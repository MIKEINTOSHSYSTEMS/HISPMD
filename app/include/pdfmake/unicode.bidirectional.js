
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory();else if(typeof define==='function'&&define.amd)
define("UnicodeBidirectional",[],factory);else if(typeof exports==='object')
exports["UnicodeBidirectional"]=factory();else
root["UnicodeBidirectional"]=factory();})(this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=17);})
([(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNonFormatting=exports.isX9ControlCharacter=exports.isStrong=exports.isPDI=exports.isIsolateInitiator=exports.isR=exports.isNI=exports.isET=exports.MAX_DEPTH=exports.RIGHT_CURLY=exports.LEFT_CURLY=exports.RIGHT_SQUARE=exports.LEFT_SQUARE=exports.RIGHT_PAR=exports.LEFT_PAR=exports.WS1=exports.BN1=exports.EN1=exports.AN1=exports.ON1=exports.R1=exports.L1=exports.S1=exports.B1=exports.G=exports.F=exports.E=exports.D=exports.C=exports.B=exports.A=exports.RLO=exports.RLM=exports.RLI=exports.RLE=exports.PDI=exports.PDF=exports.LRO=exports.LRM=exports.LRI=exports.LRE=exports.FSI=exports.ALM=undefined;var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var MAX_DEPTH=125;var A=0x0041;var B=0x0042;var C=0x0043;var D=0x0044;var E=0x0045;var F=0x0046;var G=0x0047;var ALM=0x061C;var FSI=0x2068;var LRE=0x202A;var LRI=0x2066;var LRM=0x200E;var LRO=0x202D;var PDF=0x202C;var PDI=0x2069;var RLE=0x202B;var RLI=0x2067;var RLM=0x200F;var RLO=0x202E;var BN1=0x0000;var B1=0x2029;var L1=0x006D;var R1=0x05D0;var ON1=0x0022;var AN1=0x0661;var AL1=0x0643;var EN1=0x0032;var WS1=0x0020;var S1=0x0009;var LEFT_CURLY=0x007B;var LEFT_PAR=0x0028;var LEFT_SQUARE=0x005B;var RIGHT_CURLY=0x007D;var RIGHT_PAR=0x0029;var RIGHT_SQUARE=0x005D;var LEFT_POINTING_ANGLE=0x2329;var RIGHT_POINTING_ANGLE=0x232A;var LEFT_ANGLE_BRACKET=0x3008;var RIGHT_ANGLE_BRACKET=0x3009;var isET=function isET(t){return t==='ET';};var isNI=function isNI(t){return(0,_lodash2.default)(['B','S','WS','ON','FSI','LRI','RLI','PDI'],t);};var isR=function isR(t){return(0,_lodash2.default)(['R','AN','EN'],t);};var isIsolateInitiator=function isIsolateInitiator(t){return(0,_lodash2.default)(['LRI','RLI','FSI'],t);};var isPDI=function isPDI(point){return point===0x2069;};var isStrong=function isStrong(t){return(0,_lodash2.default)(['L','R','AL'],t);};var isX9ControlCharacter=function isX9ControlCharacter(t){return(0,_lodash2.default)(['RLE','LRE','RLO','LRO','PDF','BN'],t);};var isNonFormatting=function isNonFormatting(t){return(0,_lodash2.default)(['B','BN','RLE','LRE','RLO','LRO','PDF','RLI','LRI','FSI','PDI'],t);};exports.ALM=ALM;exports.FSI=FSI;exports.LRE=LRE;exports.LRI=LRI;exports.LRM=LRM;exports.LRO=LRO;exports.PDF=PDF;exports.PDI=PDI;exports.RLE=RLE;exports.RLI=RLI;exports.RLM=RLM;exports.RLO=RLO;exports.A=A;exports.B=B;exports.C=C;exports.D=D;exports.E=E;exports.F=F;exports.G=G;exports.B1=B1;exports.S1=S1;exports.L1=L1;exports.R1=R1;exports.ON1=ON1;exports.AN1=AN1;exports.EN1=EN1;exports.BN1=BN1;exports.WS1=WS1;exports.LEFT_PAR=LEFT_PAR;exports.RIGHT_PAR=RIGHT_PAR;exports.LEFT_SQUARE=LEFT_SQUARE;exports.RIGHT_SQUARE=RIGHT_SQUARE;exports.LEFT_CURLY=LEFT_CURLY;exports.RIGHT_CURLY=RIGHT_CURLY;exports.MAX_DEPTH=MAX_DEPTH;exports.isET=isET;exports.isNI=isNI;exports.isR=isR;exports.isIsolateInitiator=isIsolateInitiator;exports.isPDI=isPDI;exports.isStrong=isStrong;exports.isX9ControlCharacter=isX9ControlCharacter;exports.isNonFormatting=isNonFormatting;}),(function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.Immutable=factory());}(this,function(){'use strict';var SLICE$0=Array.prototype.slice;function createClass(ctor,superClass){if(superClass){ctor.prototype=Object.create(superClass.prototype);}
ctor.prototype.constructor=ctor;}
function Iterable(value){return isIterable(value)?value:Seq(value);}
createClass(KeyedIterable,Iterable);function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value);}
createClass(IndexedIterable,Iterable);function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value);}
createClass(SetIterable,Iterable);function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value);}
function isIterable(maybeIterable){return!!(maybeIterable&&maybeIterable[IS_ITERABLE_SENTINEL]);}
function isKeyed(maybeKeyed){return!!(maybeKeyed&&maybeKeyed[IS_KEYED_SENTINEL]);}
function isIndexed(maybeIndexed){return!!(maybeIndexed&&maybeIndexed[IS_INDEXED_SENTINEL]);}
function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative);}
function isOrdered(maybeOrdered){return!!(maybeOrdered&&maybeOrdered[IS_ORDERED_SENTINEL]);}
Iterable.isIterable=isIterable;Iterable.isKeyed=isKeyed;Iterable.isIndexed=isIndexed;Iterable.isAssociative=isAssociative;Iterable.isOrdered=isOrdered;Iterable.Keyed=KeyedIterable;Iterable.Indexed=IndexedIterable;Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL='@@__IMMUTABLE_ITERABLE__@@';var IS_KEYED_SENTINEL='@@__IMMUTABLE_KEYED__@@';var IS_INDEXED_SENTINEL='@@__IMMUTABLE_INDEXED__@@';var IS_ORDERED_SENTINEL='@@__IMMUTABLE_ORDERED__@@';var DELETE='delete';var SHIFT=5;var SIZE=1<<SHIFT;var MASK=SIZE-1;var NOT_SET={};var CHANGE_LENGTH={value:false};var DID_ALTER={value:false};function MakeRef(ref){ref.value=false;return ref;}
function SetRef(ref){ref&&(ref.value=true);}
function OwnerID(){}
function arrCopy(arr,offset){offset=offset||0;var len=Math.max(0,arr.length-offset);var newArr=new Array(len);for(var ii=0;ii<len;ii++){newArr[ii]=arr[ii+offset];}
return newArr;}
function ensureSize(iter){if(iter.size===undefined){iter.size=iter.__iterate(returnTrue);}
return iter.size;}
function wrapIndex(iter,index){if(typeof index!=='number'){var uint32Index=index>>>0;if(''+uint32Index!==index||uint32Index===4294967295){return NaN;}
index=uint32Index;}
return index<0?ensureSize(iter)+index:index;}
function returnTrue(){return true;}
function wholeSlice(begin,end,size){return(begin===0||(size!==undefined&&begin<=-size))&&(end===undefined||(size!==undefined&&end>=size));}
function resolveBegin(begin,size){return resolveIndex(begin,size,0);}
function resolveEnd(end,size){return resolveIndex(end,size,size);}
function resolveIndex(index,size,defaultIndex){return index===undefined?defaultIndex:index<0?Math.max(0,size+index):size===undefined?index:Math.min(size,index);}
var ITERATE_KEYS=0;var ITERATE_VALUES=1;var ITERATE_ENTRIES=2;var REAL_ITERATOR_SYMBOL=typeof Symbol==='function'&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL='@@iterator';var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;function Iterator(next){this.next=next;}
Iterator.prototype.toString=function(){return'[Iterator]';};Iterator.KEYS=ITERATE_KEYS;Iterator.VALUES=ITERATE_VALUES;Iterator.ENTRIES=ITERATE_ENTRIES;Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString();}
Iterator.prototype[ITERATOR_SYMBOL]=function(){return this;};function iteratorValue(type,k,v,iteratorResult){var value=type===0?k:type===1?v:[k,v];iteratorResult?(iteratorResult.value=value):(iteratorResult={value:value,done:false});return iteratorResult;}
function iteratorDone(){return{value:undefined,done:true};}
function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable);}
function isIterator(maybeIterator){return maybeIterator&&typeof maybeIterator.next==='function';}
function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable);}
function getIteratorFn(iterable){var iteratorFn=iterable&&((REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL])||iterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==='function'){return iteratorFn;}}
function isArrayLike(value){return value&&typeof value.length==='number';}
createClass(Seq,Iterable);function Seq(value){return value===null||value===undefined?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value);}
Seq.of=function(){return Seq(arguments);};Seq.prototype.toSeq=function(){return this;};Seq.prototype.toString=function(){return this.__toString('Seq {','}');};Seq.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}
return this;};Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,true);};Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,true);};createClass(KeyedSeq,Seq);function KeyedSeq(value){return value===null||value===undefined?emptySequence().toKeyedSeq():isIterable(value)?(isKeyed(value)?value.toSeq():value.fromEntrySeq()):keyedSeqFromValue(value);}
KeyedSeq.prototype.toKeyedSeq=function(){return this;};createClass(IndexedSeq,Seq);function IndexedSeq(value){return value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value.toIndexedSeq();}
IndexedSeq.of=function(){return IndexedSeq(arguments);};IndexedSeq.prototype.toIndexedSeq=function(){return this;};IndexedSeq.prototype.toString=function(){return this.__toString('Seq [',']');};IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,false);};IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,false);};createClass(SetSeq,Seq);function SetSeq(value){return(value===null||value===undefined?emptySequence():!isIterable(value)?indexedSeqFromValue(value):isKeyed(value)?value.entrySeq():value).toSetSeq();}
SetSeq.of=function(){return SetSeq(arguments);};SetSeq.prototype.toSetSeq=function(){return this;};Seq.isSeq=isSeq;Seq.Keyed=KeyedSeq;Seq.Set=SetSeq;Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL='@@__IMMUTABLE_SEQ__@@';Seq.prototype[IS_SEQ_SENTINEL]=true;createClass(ArraySeq,IndexedSeq);function ArraySeq(array){this._array=array;this.size=array.length;}
ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue;};ArraySeq.prototype.__iterate=function(fn,reverse){var array=this._array;var maxIndex=array.length-1;for(var ii=0;ii<=maxIndex;ii++){if(fn(array[reverse?maxIndex-ii:ii],ii,this)===false){return ii+1;}}
return ii;};ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array;var maxIndex=array.length-1;var ii=0;return new Iterator(function()
{return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])});};createClass(ObjectSeq,KeyedSeq);function ObjectSeq(object){var keys=Object.keys(object);this._object=object;this._keys=keys;this.size=keys.length;}
ObjectSeq.prototype.get=function(key,notSetValue){if(notSetValue!==undefined&&!this.has(key)){return notSetValue;}
return this._object[key];};ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key);};ObjectSeq.prototype.__iterate=function(fn,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;for(var ii=0;ii<=maxIndex;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===false){return ii+1;}}
return ii;};ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object;var keys=this._keys;var maxIndex=keys.length-1;var ii=0;return new Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key]);});};ObjectSeq.prototype[IS_ORDERED_SENTINEL]=true;createClass(IterableSeq,IndexedSeq);function IterableSeq(iterable){this._iterable=iterable;this.size=iterable.length||iterable.size;}
IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterable=this._iterable;var iterator=getIterator(iterable);var iterations=0;if(isIterator(iterator)){var step;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break;}}}
return iterations;};IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterable=this._iterable;var iterator=getIterator(iterable);if(!isIterator(iterator)){return new Iterator(iteratorDone);}
var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value);});};createClass(IteratorSeq,IndexedSeq);function IteratorSeq(iterator){this._iterator=iterator;this._iteratorCache=[];}
IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;while(iterations<cache.length){if(fn(cache[iterations],iterations++,this)===false){return iterations;}}
var step;while(!(step=iterator.next()).done){var val=step.value;cache[iterations]=val;if(fn(val,iterations++,this)===false){break;}}
return iterations;};IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=this._iterator;var cache=this._iteratorCache;var iterations=0;return new Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done){return step;}
cache[iterations]=step.value;}
return iteratorValue(type,iterations,cache[iterations++]);});};function isSeq(maybeSeq){return!!(maybeSeq&&maybeSeq[IS_SEQ_SENTINEL]);}
var EMPTY_SEQ;function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]));}
function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():typeof value==='object'?new ObjectSeq(value):undefined;if(!seq){throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+value);}
return seq;}
function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq){throw new TypeError('Expected Array or iterable object of values: '+value);}
return seq;}
function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||(typeof value==='object'&&new ObjectSeq(value));if(!seq){throw new TypeError('Expected Array or iterable object of values, or keyed object: '+value);}
return seq;}
function maybeIndexedSeqFromValue(value){return(isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):undefined);}
function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;for(var ii=0;ii<=maxIndex;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===false){return ii+1;}}
return ii;}
return seq.__iterateUncached(fn,reverse);}
function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1;var ii=0;return new Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1]);});}
return seq.__iteratorUncached(type,reverse);}
function fromJS(json,converter){return converter?fromJSWith(converter,json,'',{'':json}):fromJSDefault(json);}
function fromJSWith(converter,json,key,parentJSON){if(Array.isArray(json)){return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}));}
if(isPlainObj(json)){return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)}));}
return json;}
function fromJSDefault(json){if(Array.isArray(json)){return IndexedSeq(json).map(fromJSDefault).toList();}
if(isPlainObj(json)){return KeyedSeq(json).map(fromJSDefault).toMap();}
return json;}
function isPlainObj(value){return value&&(value.constructor===Object||value.constructor===undefined);}
function is(valueA,valueB){if(valueA===valueB||(valueA!==valueA&&valueB!==valueB)){return true;}
if(!valueA||!valueB){return false;}
if(typeof valueA.valueOf==='function'&&typeof valueB.valueOf==='function'){valueA=valueA.valueOf();valueB=valueB.valueOf();if(valueA===valueB||(valueA!==valueA&&valueB!==valueB)){return true;}
if(!valueA||!valueB){return false;}}
if(typeof valueA.equals==='function'&&typeof valueB.equals==='function'&&valueA.equals(valueB)){return true;}
return false;}
function deepEqual(a,b){if(a===b){return true;}
if(!isIterable(b)||a.size!==undefined&&b.size!==undefined&&a.size!==b.size||a.__hash!==undefined&&b.__hash!==undefined&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b)){return false;}
if(a.size===0&&b.size===0){return true;}
var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k));})&&entries.next().done;}
var flipped=false;if(a.size===undefined){if(b.size===undefined){if(typeof a.cacheResult==='function'){a.cacheResult();}}else{flipped=true;var _=a;a=b;b=_;}}
var allEqual=true;var bSize=b.__iterate(function(v,k){if(notAssociative?!a.has(v):flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){allEqual=false;return false;}});return allEqual&&a.size===bSize;}
createClass(Repeat,IndexedSeq);function Repeat(value,times){if(!(this instanceof Repeat)){return new Repeat(value,times);}
this._value=value;this.size=times===undefined?Infinity:Math.max(0,times);if(this.size===0){if(EMPTY_REPEAT){return EMPTY_REPEAT;}
EMPTY_REPEAT=this;}}
Repeat.prototype.toString=function(){if(this.size===0){return'Repeat []';}
return'Repeat [ '+this._value+' '+this.size+' times ]';};Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue;};Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue);};Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size));};Repeat.prototype.reverse=function(){return this;};Repeat.prototype.indexOf=function(searchValue){if(is(this._value,searchValue)){return 0;}
return-1;};Repeat.prototype.lastIndexOf=function(searchValue){if(is(this._value,searchValue)){return this.size;}
return-1;};Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++){if(fn(this._value,ii,this)===false){return ii+1;}}
return ii;};Repeat.prototype.__iterator=function(type,reverse){var this$0=this;var ii=0;return new Iterator(function()
{return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()});};Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other);};var EMPTY_REPEAT;function invariant(condition,error){if(!condition)throw new Error(error);}
createClass(Range,IndexedSeq);function Range(start,end,step){if(!(this instanceof Range)){return new Range(start,end,step);}
invariant(step!==0,'Cannot step a Range by 0');start=start||0;if(end===undefined){end=Infinity;}
step=step===undefined?1:Math.abs(step);if(end<start){step=-step;}
this._start=start;this._end=end;this._step=step;this.size=Math.max(0,Math.ceil((end-start)/step-1)+1);if(this.size===0){if(EMPTY_RANGE){return EMPTY_RANGE;}
EMPTY_RANGE=this;}}
Range.prototype.toString=function(){if(this.size===0){return'Range []';}
return'Range [ '+
this._start+'...'+this._end+
(this._step!==1?' by '+this._step:'')+' ]';};Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue;};Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex);};Range.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this;}
begin=resolveBegin(begin,this.size);end=resolveEnd(end,this.size);if(end<=begin){return new Range(0,0);}
return new Range(this.get(begin,this._end),this.get(end,this._end),this._step);};Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size){return index}}
return-1;};Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue);};Range.prototype.__iterate=function(fn,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;for(var ii=0;ii<=maxIndex;ii++){if(fn(value,ii,this)===false){return ii+1;}
value+=reverse?-step:step;}
return ii;};Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1;var step=this._step;var value=reverse?this._start+maxIndex*step:this._start;var ii=0;return new Iterator(function(){var v=value;value+=reverse?-step:step;return ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v);});};Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other);};var EMPTY_RANGE;createClass(Collection,Iterable);function Collection(){throw TypeError('Abstract');}
createClass(KeyedCollection,Collection);function KeyedCollection(){}
createClass(IndexedCollection,Collection);function IndexedCollection(){}
createClass(SetCollection,Collection);function SetCollection(){}
Collection.Keyed=KeyedCollection;Collection.Indexed=IndexedCollection;Collection.Set=SetCollection;var imul=typeof Math.imul==='function'&&Math.imul(0xffffffff,2)===-2?Math.imul:function imul(a,b){a=a|0;b=b|0;var c=a&0xffff;var d=b&0xffff;return(c*d)+((((a>>>16)*d+c*(b>>>16))<<16)>>>0)|0;};function smi(i32){return((i32>>>1)&0x40000000)|(i32&0xBFFFFFFF);}
function hash(o){if(o===false||o===null||o===undefined){return 0;}
if(typeof o.valueOf==='function'){o=o.valueOf();if(o===false||o===null||o===undefined){return 0;}}
if(o===true){return 1;}
var type=typeof o;if(type==='number'){if(o!==o||o===Infinity){return 0;}
var h=o|0;if(h!==o){h^=o*0xFFFFFFFF;}
while(o>0xFFFFFFFF){o/=0xFFFFFFFF;h^=o;}
return smi(h);}
if(type==='string'){return o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o);}
if(typeof o.hashCode==='function'){return o.hashCode();}
if(type==='object'){return hashJSObj(o);}
if(typeof o.toString==='function'){return hashString(o.toString());}
throw new Error('Value type '+type+' cannot be hashed.');}
function cachedHashString(string){var hash=stringHashCache[string];if(hash===undefined){hash=hashString(string);if(STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE){STRING_HASH_CACHE_SIZE=0;stringHashCache={};}
STRING_HASH_CACHE_SIZE++;stringHashCache[string]=hash;}
return hash;}
function hashString(string){var hash=0;for(var ii=0;ii<string.length;ii++){hash=31*hash+string.charCodeAt(ii)|0;}
return smi(hash);}
function hashJSObj(obj){var hash;if(usingWeakMap){hash=weakMap.get(obj);if(hash!==undefined){return hash;}}
hash=obj[UID_HASH_KEY];if(hash!==undefined){return hash;}
if(!canDefineProperty){hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY];if(hash!==undefined){return hash;}
hash=getIENodeHash(obj);if(hash!==undefined){return hash;}}
hash=++objHashUID;if(objHashUID&0x40000000){objHashUID=0;}
if(usingWeakMap){weakMap.set(obj,hash);}else if(isExtensible!==undefined&&isExtensible(obj)===false){throw new Error('Non-extensible objects are not allowed as keys.');}else if(canDefineProperty){Object.defineProperty(obj,UID_HASH_KEY,{'enumerable':false,'configurable':false,'writable':false,'value':hash});}else if(obj.propertyIsEnumerable!==undefined&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable){obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};obj.propertyIsEnumerable[UID_HASH_KEY]=hash;}else if(obj.nodeType!==undefined){obj[UID_HASH_KEY]=hash;}else{throw new Error('Unable to set a non-enumerable property on object.');}
return hash;}
var isExtensible=Object.isExtensible;var canDefineProperty=(function(){try{Object.defineProperty({},'@',{});return true;}catch(e){return false;}}());function getIENodeHash(node){if(node&&node.nodeType>0){switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID;}}}
var usingWeakMap=typeof WeakMap==='function';var weakMap;if(usingWeakMap){weakMap=new WeakMap();}
var objHashUID=0;var UID_HASH_KEY='__immutablehash__';if(typeof Symbol==='function'){UID_HASH_KEY=Symbol(UID_HASH_KEY);}
var STRING_HASH_CACHE_MIN_STRLEN=16;var STRING_HASH_CACHE_MAX_SIZE=255;var STRING_HASH_CACHE_SIZE=0;var stringHashCache={};function assertNotInfinite(size){invariant(size!==Infinity,'Cannot perform this action with an infinite size.');}
createClass(Map,KeyedCollection);function Map(value){return value===null||value===undefined?emptyMap():isMap(value)&&!isOrdered(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)});});}
Map.of=function(){var keyValues=SLICE$0.call(arguments,0);return emptyMap().withMutations(function(map){for(var i=0;i<keyValues.length;i+=2){if(i+1>=keyValues.length){throw new Error('Missing value for key: '+keyValues[i]);}
map.set(keyValues[i],keyValues[i+1]);}});};Map.prototype.toString=function(){return this.__toString('Map {','}');};Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,undefined,k,notSetValue):notSetValue;};Map.prototype.set=function(k,v){return updateMap(this,k,v);};Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v});};Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET);};Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET});};Map.prototype.update=function(k,notSetValue,updater){return arguments.length===1?k(this):this.updateIn([k],notSetValue,updater);};Map.prototype.updateIn=function(keyPath,notSetValue,updater){if(!updater){updater=notSetValue;notSetValue=undefined;}
var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?undefined:updatedValue;};Map.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this;}
return emptyMap();};Map.prototype.merge=function(){return mergeIntoMapWith(this,undefined,arguments);};Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters);};Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.merge==='function'?m.merge.apply(m,iters):iters[iters.length-1]});};Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments);};Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(merger),iters);};Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return typeof m.mergeDeep==='function'?m.mergeDeep.apply(m,iters):iters[iters.length-1]});};Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator));};Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper));};Map.prototype.withMutations=function(fn){var mutable=this.asMutable();fn(mutable);return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this;};Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID());};Map.prototype.asImmutable=function(){return this.__ensureOwner();};Map.prototype.wasAltered=function(){return this.__altered;};Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse);};Map.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;this._root&&this._root.iterate(function(entry){iterations++;return fn(entry[1],entry[0],this$0);},reverse);return iterations;};Map.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this;}
return makeMap(this.size,this._root,ownerID,this.__hash);};function isMap(maybeMap){return!!(maybeMap&&maybeMap[IS_MAP_SENTINEL]);}
Map.isMap=isMap;var IS_MAP_SENTINEL='@@__IMMUTABLE_MAP__@@';var MapPrototype=Map.prototype;MapPrototype[IS_MAP_SENTINEL]=true;MapPrototype[DELETE]=MapPrototype.remove;MapPrototype.removeIn=MapPrototype.deleteIn;function ArrayMapNode(ownerID,entries){this.ownerID=ownerID;this.entries=entries;}
ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1];}}
return notSetValue;};ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break;}}
var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this;}
SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&entries.length===1){return;}
if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE){return createNodes(ownerID,entries,key,value);}
var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():(newEntries[idx]=newEntries.pop());}else{newEntries[idx]=[key,value];}}else{newEntries.push([key,value]);}
if(isEditable){this.entries=newEntries;return this;}
return new ArrayMapNode(ownerID,newEntries);};function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID;this.bitmap=bitmap;this.nodes=nodes;}
BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key);}
var bit=(1<<((shift===0?keyHash:keyHash>>>shift)&MASK));var bitmap=this.bitmap;return(bitmap&bit)===0?notSetValue:this.nodes[popCount(bitmap&(bit-1))].get(shift+SHIFT,keyHash,key,notSetValue);};BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var keyHashFrag=(shift===0?keyHash:keyHash>>>shift)&MASK;var bit=1<<keyHashFrag;var bitmap=this.bitmap;var exists=(bitmap&bit)!==0;if(!exists&&value===NOT_SET){return this;}
var idx=popCount(bitmap&(bit-1));var nodes=this.nodes;var node=exists?nodes[idx]:undefined;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this;}
if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE){return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);}
if(exists&&!newNode&&nodes.length===2&&isLeafNode(nodes[idx^1])){return nodes[idx^1];}
if(exists&&newNode&&nodes.length===1&&isLeafNode(newNode)){return newNode;}
var isEditable=ownerID&&ownerID===this.ownerID;var newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit;var newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);if(isEditable){this.bitmap=newBitmap;this.nodes=newNodes;return this;}
return new BitmapIndexedNode(ownerID,newBitmap,newNodes);};function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID;this.count=count;this.nodes=nodes;}
HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){if(keyHash===undefined){keyHash=hash(key);}
var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue;};HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var idx=(shift===0?keyHash:keyHash>>>shift)&MASK;var removed=value===NOT_SET;var nodes=this.nodes;var node=nodes[idx];if(removed&&!node){return this;}
var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node){return this;}
var newCount=this.count;if(!node){newCount++;}else if(!newNode){newCount--;if(newCount<MIN_HASH_ARRAY_MAP_SIZE){return packNodes(ownerID,nodes,newCount,idx);}}
var isEditable=ownerID&&ownerID===this.ownerID;var newNodes=setIn(nodes,idx,newNode,isEditable);if(isEditable){this.count=newCount;this.nodes=newNodes;return this;}
return new HashArrayMapNode(ownerID,newCount,newNodes);};function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID;this.keyHash=keyHash;this.entries=entries;}
HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){var entries=this.entries;for(var ii=0,len=entries.length;ii<len;ii++){if(is(key,entries[ii][0])){return entries[ii][1];}}
return notSetValue;};HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(keyHash===undefined){keyHash=hash(key);}
var removed=value===NOT_SET;if(keyHash!==this.keyHash){if(removed){return this;}
SetRef(didAlter);SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,keyHash,[key,value]);}
var entries=this.entries;var idx=0;for(var len=entries.length;idx<len;idx++){if(is(key,entries[idx][0])){break;}}
var exists=idx<len;if(exists?entries[idx][1]===value:removed){return this;}
SetRef(didAlter);(removed||!exists)&&SetRef(didChangeSize);if(removed&&len===2){return new ValueNode(ownerID,this.keyHash,entries[idx^1]);}
var isEditable=ownerID&&ownerID===this.ownerID;var newEntries=isEditable?entries:arrCopy(entries);if(exists){if(removed){idx===len-1?newEntries.pop():(newEntries[idx]=newEntries.pop());}else{newEntries[idx]=[key,value];}}else{newEntries.push([key,value]);}
if(isEditable){this.entries=newEntries;return this;}
return new HashCollisionNode(ownerID,this.keyHash,newEntries);};function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID;this.keyHash=keyHash;this.entry=entry;}
ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue;};ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET;var keyMatch=is(key,this.entry[0]);if(keyMatch?value===this.entry[1]:removed){return this;}
SetRef(didAlter);if(removed){SetRef(didChangeSize);return;}
if(keyMatch){if(ownerID&&ownerID===this.ownerID){this.entry[1]=value;return this;}
return new ValueNode(ownerID,this.keyHash,[key,value]);}
SetRef(didChangeSize);return mergeIntoNode(this,ownerID,shift,hash(key),[key,value]);};ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){var entries=this.entries;for(var ii=0,maxIndex=entries.length-1;ii<=maxIndex;ii++){if(fn(entries[reverse?maxIndex-ii:ii])===false){return false;}}}
BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){var nodes=this.nodes;for(var ii=0,maxIndex=nodes.length-1;ii<=maxIndex;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===false){return false;}}}
ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry);}
createClass(MapIterator,Iterator);function MapIterator(map,type,reverse){this._type=type;this._reverse=reverse;this._stack=map._root&&mapIteratorFrame(map._root);}
MapIterator.prototype.next=function(){var type=this._type;var stack=this._stack;while(stack){var node=stack.node;var index=stack.index++;var maxIndex;if(node.entry){if(index===0){return mapIteratorValue(type,node.entry);}}else if(node.entries){maxIndex=node.entries.length-1;if(index<=maxIndex){return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index]);}}else{maxIndex=node.nodes.length-1;if(index<=maxIndex){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry){return mapIteratorValue(type,subNode.entry);}
stack=this._stack=mapIteratorFrame(subNode,stack);}
continue;}}
stack=this._stack=this._stack.__prev;}
return iteratorDone();};function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1]);}
function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev};}
function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);map.size=size;map._root=root;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map;}
var EMPTY_MAP;function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0));}
function updateMap(map,k,v){var newRoot;var newSize;if(!map._root){if(v===NOT_SET){return map;}
newSize=1;newRoot=new ArrayMapNode(map.__ownerID,[[k,v]]);}else{var didChangeSize=MakeRef(CHANGE_LENGTH);var didAlter=MakeRef(DID_ALTER);newRoot=updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);if(!didAlter.value){return map;}
newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0);}
if(map.__ownerID){map.size=newSize;map._root=newRoot;map.__hash=undefined;map.__altered=true;return map;}
return newRoot?makeMap(newSize,newRoot):emptyMap();}
function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){if(!node){if(value===NOT_SET){return node;}
SetRef(didAlter);SetRef(didChangeSize);return new ValueNode(ownerID,keyHash,[key,value]);}
return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter);}
function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode;}
function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash){return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);}
var idx1=(shift===0?node.keyHash:node.keyHash>>>shift)&MASK;var idx2=(shift===0?keyHash:keyHash>>>shift)&MASK;var newNode;var nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:((newNode=new ValueNode(ownerID,keyHash,entry)),idx1<idx2?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,(1<<idx1)|(1<<idx2),nodes);}
function createNodes(ownerID,entries,key,value){if(!ownerID){ownerID=new OwnerID();}
var node=new ValueNode(ownerID,hash(key),[key,value]);for(var ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,undefined,entry[0],entry[1]);}
return node;}
function packNodes(ownerID,nodes,count,excluding){var bitmap=0;var packedII=0;var packedNodes=new Array(count);for(var ii=0,bit=1,len=nodes.length;ii<len;ii++,bit<<=1){var node=nodes[ii];if(node!==undefined&&ii!==excluding){bitmap|=bit;packedNodes[packedII++]=node;}}
return new BitmapIndexedNode(ownerID,bitmap,packedNodes);}
function expandNodes(ownerID,nodes,bitmap,including,node){var count=0;var expandedNodes=new Array(SIZE);for(var ii=0;bitmap!==0;ii++,bitmap>>>=1){expandedNodes[ii]=bitmap&1?nodes[count++]:undefined;}
expandedNodes[including]=node;return new HashArrayMapNode(ownerID,count+1,expandedNodes);}
function mergeIntoMapWith(map,merger,iterables){var iters=[];for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=KeyedIterable(value);if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)});}
iters.push(iter);}
return mergeIntoCollectionWith(map,merger,iters);}
function deepMerger(existing,value,key){return existing&&existing.mergeDeep&&isIterable(value)?existing.mergeDeep(value):is(existing,value)?existing:value;}
function deepMergerWith(merger){return function(existing,value,key){if(existing&&existing.mergeDeepWith&&isIterable(value)){return existing.mergeDeepWith(merger,value);}
var nextValue=merger(existing,value,key);return is(existing,nextValue)?existing:nextValue;};}
function mergeIntoCollectionWith(collection,merger,iters){iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return collection;}
if(collection.size===0&&!collection.__ownerID&&iters.length===1){return collection.constructor(iters[0]);}
return collection.withMutations(function(collection){var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing)
{return existing===NOT_SET?value:merger(existing,value,key)});}:function(value,key){collection.set(key,value);}
for(var ii=0;ii<iters.length;ii++){iters[ii].forEach(mergeIntoMap);}});}
function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET;var step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing;var newValue=updater(existingValue);return newValue===existingValue?existing:newValue;}
invariant(isNotSet||(existing&&existing.set),'invalid keyPath');var key=step.value;var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);var nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated);}
function popCount(x){x=x-((x>>1)&0x55555555);x=(x&0x33333333)+((x>>2)&0x33333333);x=(x+(x>>4))&0x0f0f0f0f;x=x+(x>>8);x=x+(x>>16);return x&0x7f;}
function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);newArray[idx]=val;return newArray;}
function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen){array[idx]=val;return array;}
var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){newArray[ii]=val;after=-1;}else{newArray[ii]=array[ii+after];}}
return newArray;}
function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen){array.pop();return array;}
var newArray=new Array(newLen);var after=0;for(var ii=0;ii<newLen;ii++){if(ii===idx){after=1;}
newArray[ii]=array[ii+after];}
return newArray;}
var MAX_ARRAY_MAP_SIZE=SIZE/4;var MAX_BITMAP_INDEXED_SIZE=SIZE/2;var MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection);function List(value){var empty=emptyList();if(value===null||value===undefined){return empty;}
if(isList(value)){return value;}
var iter=IndexedIterable(value);var size=iter.size;if(size===0){return empty;}
assertNotInfinite(size);if(size>0&&size<SIZE){return makeList(0,size,SHIFT,null,new VNode(iter.toArray()));}
return empty.withMutations(function(list){list.setSize(size);iter.forEach(function(v,i){return list.set(i,v)});});}
List.of=function(){return this(arguments);};List.prototype.toString=function(){return this.__toString('List [',']');};List.prototype.get=function(index,notSetValue){index=wrapIndex(this,index);if(index>=0&&index<this.size){index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK];}
return notSetValue;};List.prototype.set=function(index,value){return updateList(this,index,value);};List.prototype.remove=function(index){return!this.has(index)?this:index===0?this.shift():index===this.size-1?this.pop():this.splice(index,1);};List.prototype.insert=function(index,value){return this.splice(index,0,value);};List.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=SHIFT;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this;}
return emptyList();};List.prototype.push=function(){var values=arguments;var oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++){list.set(oldSize+ii,values[ii]);}});};List.prototype.pop=function(){return setListBounds(this,0,-1);};List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++){list.set(ii,values[ii]);}});};List.prototype.shift=function(){return setListBounds(this,1);};List.prototype.merge=function(){return mergeIntoListWith(this,undefined,arguments);};List.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters);};List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments);};List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(merger),iters);};List.prototype.setSize=function(size){return setListBounds(this,0,size);};List.prototype.slice=function(begin,end){var size=this.size;if(wholeSlice(begin,end,size)){return this;}
return setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size));};List.prototype.__iterator=function(type,reverse){var index=0;var values=iterateList(this,reverse);return new Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value);});};List.prototype.__iterate=function(fn,reverse){var index=0;var values=iterateList(this,reverse);var value;while((value=values())!==DONE){if(fn(value,index++,this)===false){break;}}
return index;};List.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;return this;}
return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash);};function isList(maybeList){return!!(maybeList&&maybeList[IS_LIST_SENTINEL]);}
List.isList=isList;var IS_LIST_SENTINEL='@@__IMMUTABLE_LIST__@@';var ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=true;ListPrototype[DELETE]=ListPrototype.remove;ListPrototype.setIn=MapPrototype.setIn;ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn;ListPrototype.update=MapPrototype.update;ListPrototype.updateIn=MapPrototype.updateIn;ListPrototype.mergeIn=MapPrototype.mergeIn;ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;ListPrototype.withMutations=MapPrototype.withMutations;ListPrototype.asMutable=MapPrototype.asMutable;ListPrototype.asImmutable=MapPrototype.asImmutable;ListPrototype.wasAltered=MapPrototype.wasAltered;function VNode(array,ownerID){this.array=array;this.ownerID=ownerID;}
VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||this.array.length===0){return this;}
var originIndex=(index>>>level)&MASK;if(originIndex>=this.array.length){return new VNode([],ownerID);}
var removingFirst=originIndex===0;var newChild;if(level>0){var oldChild=this.array[originIndex];newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index);if(newChild===oldChild&&removingFirst){return this;}}
if(removingFirst&&!newChild){return this;}
var editable=editableVNode(this,ownerID);if(!removingFirst){for(var ii=0;ii<originIndex;ii++){editable.array[ii]=undefined;}}
if(newChild){editable.array[originIndex]=newChild;}
return editable;};VNode.prototype.removeAfter=function(ownerID,level,index){if(index===(level?1<<level:0)||this.array.length===0){return this;}
var sizeIndex=((index-1)>>>level)&MASK;if(sizeIndex>=this.array.length){return this;}
var newChild;if(level>0){var oldChild=this.array[sizeIndex];newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index);if(newChild===oldChild&&sizeIndex===this.array.length-1){return this;}}
var editable=editableVNode(this,ownerID);editable.array.splice(sizeIndex+1);if(newChild){editable.array[sizeIndex]=newChild;}
return editable;};var DONE={};function iterateList(list,reverse){var left=list._origin;var right=list._capacity;var tailPos=getTailOffset(right);var tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0);function iterateNodeOrLeaf(node,level,offset){return level===0?iterateLeaf(node,offset):iterateNode(node,level,offset);}
function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array;var from=offset>left?0:left-offset;var to=right-offset;if(to>SIZE){to=SIZE;}
return function(){if(from===to){return DONE;}
var idx=reverse?--to:from++;return array&&array[idx];};}
function iterateNode(node,level,offset){var values;var array=node&&node.array;var from=offset>left?0:(left-offset)>>level;var to=((right-offset)>>level)+1;if(to>SIZE){to=SIZE;}
return function(){do{if(values){var value=values();if(value!==DONE){return value;}
values=null;}
if(from===to){return DONE;}
var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level));}while(true);};}}
function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);list.size=capacity-origin;list._origin=origin;list._capacity=capacity;list._level=level;list._root=root;list._tail=tail;list.__ownerID=ownerID;list.__hash=hash;list.__altered=false;return list;}
var EMPTY_LIST;function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT));}
function updateList(list,index,value){index=wrapIndex(list,index);if(index!==index){return list;}
if(index>=list.size||index<0){return list.withMutations(function(list){index<0?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});}
index+=list._origin;var newTail=list._tail;var newRoot=list._root;var didAlter=MakeRef(DID_ALTER);if(index>=getTailOffset(list._capacity)){newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter);}else{newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter);}
if(!didAlter.value){return list;}
if(list.__ownerID){list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list;}
return makeList(list._origin,list._capacity,list._level,newRoot,newTail);}
function updateVNode(node,ownerID,level,index,value,didAlter){var idx=(index>>>level)&MASK;var nodeHas=node&&idx<node.array.length;if(!nodeHas&&value===undefined){return node;}
var newNode;if(level>0){var lowerNode=node&&node.array[idx];var newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);if(newLowerNode===lowerNode){return node;}
newNode=editableVNode(node,ownerID);newNode.array[idx]=newLowerNode;return newNode;}
if(nodeHas&&node.array[idx]===value){return node;}
SetRef(didAlter);newNode=editableVNode(node,ownerID);if(value===undefined&&idx===newNode.array.length-1){newNode.array.pop();}else{newNode.array[idx]=value;}
return newNode;}
function editableVNode(node,ownerID){if(ownerID&&node&&ownerID===node.ownerID){return node;}
return new VNode(node?node.array.slice():[],ownerID);}
function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity)){return list._tail;}
if(rawIndex<1<<(list._level+SHIFT)){var node=list._root;var level=list._level;while(node&&level>0){node=node.array[(rawIndex>>>level)&MASK];level-=SHIFT;}
return node;}}
function setListBounds(list,begin,end){if(begin!==undefined){begin=begin|0;}
if(end!==undefined){end=end|0;}
var owner=list.__ownerID||new OwnerID();var oldOrigin=list._origin;var oldCapacity=list._capacity;var newOrigin=oldOrigin+begin;var newCapacity=end===undefined?oldCapacity:end<0?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity){return list;}
if(newOrigin>=newCapacity){return list.clear();}
var newLevel=list._level;var newRoot=list._root;var offsetShift=0;while(newOrigin+offsetShift<0){newRoot=new VNode(newRoot&&newRoot.array.length?[undefined,newRoot]:[],owner);newLevel+=SHIFT;offsetShift+=1<<newLevel;}
if(offsetShift){newOrigin+=offsetShift;oldOrigin+=offsetShift;newCapacity+=offsetShift;oldCapacity+=offsetShift;}
var oldTailOffset=getTailOffset(oldCapacity);var newTailOffset=getTailOffset(newCapacity);while(newTailOffset>=1<<(newLevel+SHIFT)){newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner);newLevel+=SHIFT;}
var oldTail=list._tail;var newTail=newTailOffset<oldTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&newOrigin<oldCapacity&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);var node=newRoot;for(var level=newLevel;level>SHIFT;level-=SHIFT){var idx=(oldTailOffset>>>level)&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner);}
node.array[(oldTailOffset>>>SHIFT)&MASK]=oldTail;}
if(newCapacity<oldCapacity){newTail=newTail&&newTail.removeAfter(owner,0,newCapacity);}
if(newOrigin>=newTailOffset){newOrigin-=newTailOffset;newCapacity-=newTailOffset;newLevel=SHIFT;newRoot=null;newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);}else if(newOrigin>oldOrigin||newTailOffset<oldTailOffset){offsetShift=0;while(newRoot){var beginIndex=(newOrigin>>>newLevel)&MASK;if(beginIndex!==(newTailOffset>>>newLevel)&MASK){break;}
if(beginIndex){offsetShift+=(1<<newLevel)*beginIndex;}
newLevel-=SHIFT;newRoot=newRoot.array[beginIndex];}
if(newRoot&&newOrigin>oldOrigin){newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift);}
if(newRoot&&newTailOffset<oldTailOffset){newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift);}
if(offsetShift){newOrigin-=offsetShift;newCapacity-=offsetShift;}}
if(list.__ownerID){list.size=newCapacity-newOrigin;list._origin=newOrigin;list._capacity=newCapacity;list._level=newLevel;list._root=newRoot;list._tail=newTail;list.__hash=undefined;list.__altered=true;return list;}
return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail);}
function mergeIntoListWith(list,merger,iterables){var iters=[];var maxSize=0;for(var ii=0;ii<iterables.length;ii++){var value=iterables[ii];var iter=IndexedIterable(value);if(iter.size>maxSize){maxSize=iter.size;}
if(!isIterable(value)){iter=iter.map(function(v){return fromJS(v)});}
iters.push(iter);}
if(maxSize>list.size){list=list.setSize(maxSize);}
return mergeIntoCollectionWith(list,merger,iters);}
function getTailOffset(size){return size<SIZE?0:(((size-1)>>>SHIFT)<<SHIFT);}
createClass(OrderedMap,Map);function OrderedMap(value){return value===null||value===undefined?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v,k){return map.set(k,v)});});}
OrderedMap.of=function(){return this(arguments);};OrderedMap.prototype.toString=function(){return this.__toString('OrderedMap {','}');};OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return index!==undefined?this._list.get(index)[1]:notSetValue;};OrderedMap.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}
return emptyOrderedMap();};OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v);};OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET);};OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse);};OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse);};OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map.__ensureOwner(ownerID);var newList=this._list.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;this._list=newList;return this;}
return makeOrderedMap(newMap,newList,ownerID,this.__hash);};function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap);}
OrderedMap.isOrderedMap=isOrderedMap;OrderedMap.prototype[IS_ORDERED_SENTINEL]=true;OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);omap.size=map?map.size:0;omap._map=map;omap._list=list;omap.__ownerID=ownerID;omap.__hash=hash;return omap;}
var EMPTY_ORDERED_MAP;function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()));}
function updateOrderedMap(omap,k,v){var map=omap._map;var list=omap._list;var i=map.get(k);var has=i!==undefined;var newMap;var newList;if(v===NOT_SET){if(!has){return omap;}
if(list.size>=SIZE&&list.size>=map.size*2){newList=list.filter(function(entry,idx){return entry!==undefined&&i!==idx});newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap();if(omap.__ownerID){newMap.__ownerID=newList.__ownerID=omap.__ownerID;}}else{newMap=map.remove(k);newList=i===list.size-1?list.pop():list.set(i,undefined);}}else{if(has){if(v===list.get(i)[1]){return omap;}
newMap=map;newList=list.set(i,[k,v]);}else{newMap=map.set(k,list.size);newList=list.set(list.size,[k,v]);}}
if(omap.__ownerID){omap.size=newMap.size;omap._map=newMap;omap._list=newList;omap.__hash=undefined;return omap;}
return makeOrderedMap(newMap,newList);}
createClass(ToKeyedSequence,KeyedSeq);function ToKeyedSequence(indexed,useKeys){this._iter=indexed;this._useKeys=useKeys;this.size=indexed.size;}
ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue);};ToKeyedSequence.prototype.has=function(key){return this._iter.has(key);};ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq();};ToKeyedSequence.prototype.reverse=function(){var this$0=this;var reversedSequence=reverseFactory(this,true);if(!this._useKeys){reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()};}
return reversedSequence;};ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this;var mappedSequence=mapFactory(this,mapper,context);if(!this._useKeys){mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)};}
return mappedSequence;};ToKeyedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var ii;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:((ii=reverse?resolveSize(this):0),function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse);};ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys){return this._iter.__iterator(type,reverse);}
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var ii=reverse?resolveSize(this):0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step);});};ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=true;createClass(ToIndexedSequence,IndexedSeq);function ToIndexedSequence(iter){this._iter=iter;this.size=iter.size;}
ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value);};ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this;var iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse);};ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);var iterations=0;return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)});};createClass(ToSetSequence,SetSeq);function ToSetSequence(iter){this._iter=iter;this.size=iter.size;}
ToSetSequence.prototype.has=function(key){return this._iter.includes(key);};ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse);};ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step);});};createClass(FromEntriesSequence,KeyedSeq);function FromEntriesSequence(entries){this._iter=entries;this.size=entries.size;}
FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq();};FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0);}},reverse);};FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step;}
var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step);}}});};ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough;function flipFactory(iterable){var flipSequence=makeSequence(iterable);flipSequence._iter=iterable;flipSequence.size=iterable.size;flipSequence.flip=function(){return iterable};flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);reversedSequence.flip=function(){return iterable.reverse()};return reversedSequence;};flipSequence.has=function(key){return iterable.includes(key)};flipSequence.includes=function(key){return iterable.has(key)};flipSequence.cacheResult=cacheResultThrough;flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==false},reverse);}
flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1];step.value[1]=k;}
return step;});}
return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse);}
return flipSequence;}
function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);mappedSequence.size=iterable.size;mappedSequence.has=function(key){return iterable.has(key)};mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable);};mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==false},reverse);}
mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new Iterator(function(){var step=iterator.next();if(step.done){return step;}
var entry=step.value;var key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step);});}
return mappedSequence;}
function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);reversedSequence._iter=iterable;reversedSequence.size=iterable.size;reversedSequence.reverse=function(){return iterable};if(iterable.flip){reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);flipSequence.reverse=function(){return iterable.flip()};return flipSequence;};}
reversedSequence.get=function(key,notSetValue)
{return iterable.get(useKeys?key:-1-key,notSetValue)};reversedSequence.has=function(key)
{return iterable.has(useKeys?key:-1-key)};reversedSequence.includes=function(value){return iterable.includes(value)};reversedSequence.cacheResult=cacheResultThrough;reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse);};reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)};return reversedSequence;}
function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);if(useKeys){filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable);};filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue;};}
filterSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){iterations++;return fn(v,useKeys?k:iterations-1,this$0);}},reverse);return iterations;};filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterations=0;return new Iterator(function(){while(true){var step=iterator.next();if(step.done){return step;}
var entry=step.value;var key=entry[0];var value=entry[1];if(predicate.call(context,value,key,iterable)){return iteratorValue(type,useKeys?key:iterations++,value,step);}}});}
return filterSequence;}
function countByFactory(iterable,grouper,context){var groups=Map().asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1});});return groups.asImmutable();}
function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable);var groups=(isOrdered(iterable)?OrderedMap():Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return(a=a||[],a.push(isKeyedIter?[k,v]:v),a)});});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))});}
function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(begin!==undefined){begin=begin|0;}
if(end!==undefined){if(end===Infinity){end=originalSize;}else{end=end|0;}}
if(wholeSlice(begin,end,originalSize)){return iterable;}
var resolvedBegin=resolveBegin(begin,originalSize);var resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd){return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);}
var resolvedSize=resolvedEnd-resolvedBegin;var sliceSize;if(resolvedSize===resolvedSize){sliceSize=resolvedSize<0?0:resolvedSize;}
var sliceSeq=makeSequence(iterable);sliceSeq.size=sliceSize===0?sliceSize:iterable.size&&sliceSize||undefined;if(!useKeys&&isSeq(iterable)&&sliceSize>=0){sliceSeq.get=function(index,notSetValue){index=wrapIndex(this,index);return index>=0&&index<sliceSize?iterable.get(index+resolvedBegin,notSetValue):notSetValue;}}
sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(sliceSize===0){return 0;}
if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var skipped=0;var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k){if(!(isSkipping&&(isSkipping=skipped++<resolvedBegin))){iterations++;return fn(v,useKeys?k:iterations-1,this$0)!==false&&iterations!==sliceSize;}});return iterations;};sliceSeq.__iteratorUncached=function(type,reverse){if(sliceSize!==0&&reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=sliceSize!==0&&iterable.__iterator(type,reverse);var skipped=0;var iterations=0;return new Iterator(function(){while(skipped++<resolvedBegin){iterator.next();}
if(++iterations>sliceSize){return iteratorDone();}
var step=iterator.next();if(useKeys||type===ITERATE_VALUES){return step;}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations-1,undefined,step);}else{return iteratorValue(type,iterations-1,step.value[1],step);}});}
return sliceSeq;}
function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var iterations=0;iterable.__iterate(function(v,k,c)
{return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)});return iterations;};takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var iterating=true;return new Iterator(function(){if(!iterating){return iteratorDone();}
var step=iterator.next();if(step.done){return step;}
var entry=step.value;var k=entry[0];var v=entry[1];if(!predicate.call(context,v,k,this$0)){iterating=false;return iteratorDone();}
return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step);});};return takeSequence;}
function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterate(fn,reverse);}
var isSkipping=true;var iterations=0;iterable.__iterate(function(v,k,c){if(!(isSkipping&&(isSkipping=predicate.call(context,v,k,c)))){iterations++;return fn(v,useKeys?k:iterations-1,this$0);}});return iterations;};skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse){return this.cacheResult().__iterator(type,reverse);}
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);var skipping=true;var iterations=0;return new Iterator(function(){var step,k,v;do{step=iterator.next();if(step.done){if(useKeys||type===ITERATE_VALUES){return step;}else if(type===ITERATE_KEYS){return iteratorValue(type,iterations++,undefined,step);}else{return iteratorValue(type,iterations++,step.value[1],step);}}
var entry=step.value;k=entry[0];v=entry[1];skipping&&(skipping=predicate.call(context,v,k,this$0));}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step);});};return skipSequence;}
function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable);var iters=[iterable].concat(values).map(function(v){if(!isIterable(v)){v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]);}else if(isKeyedIterable){v=KeyedIterable(v);}
return v;}).filter(function(v){return v.size!==0});if(iters.length===0){return iterable;}
if(iters.length===1){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton)){return singleton;}}
var concatSeq=new ArraySeq(iters);if(isKeyedIterable){concatSeq=concatSeq.toKeyedSeq();}else if(!isIndexed(iterable)){concatSeq=concatSeq.toSetSeq();}
concatSeq=concatSeq.flatten(true);concatSeq.size=iters.reduce(function(sum,seq){if(sum!==undefined){var size=seq.size;if(size!==undefined){return sum+size;}}},0);return concatSeq;}
function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);flatSequence.__iterateUncached=function(fn,reverse){var iterations=0;var stopped=false;function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){if((!depth||currentDepth<depth)&&isIterable(v)){flatDeep(v,currentDepth+1);}else if(fn(v,useKeys?k:iterations++,this$0)===false){stopped=true;}
return!stopped;},reverse);}
flatDeep(iterable,0);return iterations;}
flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse);var stack=[];var iterations=0;return new Iterator(function(){while(iterator){var step=iterator.next();if(step.done!==false){iterator=stack.pop();continue;}
var v=step.value;if(type===ITERATE_ENTRIES){v=v[1];}
if((!depth||stack.length<depth)&&isIterable(v)){stack.push(iterator);iterator=v.__iterator(type,reverse);}else{return useKeys?step:iteratorValue(type,iterations++,v,step);}}
return iteratorDone();});}
return flatSequence;}
function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(true);}
function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);interposedSequence.size=iterable.size&&iterable.size*2-1;interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this;var iterations=0;iterable.__iterate(function(v,k)
{return(!iterations||fn(separator,iterations++,this$0)!==false)&&fn(v,iterations++,this$0)!==false},reverse);return iterations;};interposedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_VALUES,reverse);var iterations=0;var step;return new Iterator(function(){if(!step||iterations%2){step=iterator.next();if(step.done){return step;}}
return iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step);});};return interposedSequence;}
function sortFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator;}
var isKeyedIterable=isKeyed(iterable);var index=0;var entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2;}:function(v,i){entries[i]=v[1];});return isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries);}
function maxFactory(iterable,comparator,mapper){if(!comparator){comparator=defaultComparator;}
if(mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0];}else{return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a});}}
function maxCompare(comparator,a,b){var comp=comparator(b,a);return(comp===0&&b!==a&&(b===undefined||b===null||b!==b))||comp>0;}
function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min();zipSequence.__iterate=function(fn,reverse){var iterator=this.__iterator(ITERATE_VALUES,reverse);var step;var iterations=0;while(!(step=iterator.next()).done){if(fn(step.value,iterations++,this)===false){break;}}
return iterations;};zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i)
{return(i=Iterable(i),getIterator(reverse?i.reverse():i))});var iterations=0;var isDone=false;return new Iterator(function(){var steps;if(!isDone){steps=iterators.map(function(i){return i.next()});isDone=steps.some(function(s){return s.done});}
if(isDone){return iteratorDone();}
return iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})));});};return zipSequence}
function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq);}
function validateEntry(entry){if(entry!==Object(entry)){throw new TypeError('Expected [K, V] tuple: '+entry);}}
function resolveSize(iter){assertNotInfinite(iter.size);return ensureSize(iter);}
function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable;}
function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype);}
function cacheResultThrough(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else{return Seq.prototype.cacheResult.call(this);}}
function defaultComparator(a,b){return a>b?1:a<b?-1:0;}
function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath)){throw new TypeError('Expected iterable or array-like: '+keyPath);}
iter=getIterator(Iterable(keyPath));}
return iter;}
createClass(Record,KeyedCollection);function Record(defaultValues,name){var hasInitialized;var RecordType=function Record(values){if(values instanceof RecordType){return values;}
if(!(this instanceof RecordType)){return new RecordType(values);}
if(!hasInitialized){hasInitialized=true;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys);RecordTypePrototype.size=keys.length;RecordTypePrototype._name=name;RecordTypePrototype._keys=keys;RecordTypePrototype._defaultValues=defaultValues;}
this._map=Map(values);};var RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);RecordTypePrototype.constructor=RecordType;return RecordType;}
Record.prototype.toString=function(){return this.__toString(recordName(this)+' {','}');};Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k);};Record.prototype.get=function(k,notSetValue){if(!this.has(k)){return notSetValue;}
var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal;};Record.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}
var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()));};Record.prototype.set=function(k,v){if(!this.has(k)){throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));}
if(this._map&&!this._map.has(k)){var defaultVal=this._defaultValues[k];if(v===defaultVal){return this;}}
var newMap=this._map&&this._map.set(k,v);if(this.__ownerID||newMap===this._map){return this;}
return makeRecord(this,newMap);};Record.prototype.remove=function(k){if(!this.has(k)){return this;}
var newMap=this._map&&this._map.remove(k);if(this.__ownerID||newMap===this._map){return this;}
return makeRecord(this,newMap);};Record.prototype.wasAltered=function(){return this._map.wasAltered();};Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse);};Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse);};Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map&&this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this;}
return makeRecord(this,newMap,ownerID);};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove;RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn;RecordPrototype.merge=MapPrototype.merge;RecordPrototype.mergeWith=MapPrototype.mergeWith;RecordPrototype.mergeIn=MapPrototype.mergeIn;RecordPrototype.mergeDeep=MapPrototype.mergeDeep;RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith;RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn;RecordPrototype.setIn=MapPrototype.setIn;RecordPrototype.update=MapPrototype.update;RecordPrototype.updateIn=MapPrototype.updateIn;RecordPrototype.withMutations=MapPrototype.withMutations;RecordPrototype.asMutable=MapPrototype.asMutable;RecordPrototype.asImmutable=MapPrototype.asImmutable;function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));record._map=map;record.__ownerID=ownerID;return record;}
function recordName(record){return record._name||record.constructor.name||'Record';}
function setProps(prototype,names){try{names.forEach(setProp.bind(undefined,prototype));}catch(error){}}
function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name);},set:function(value){invariant(this.__ownerID,'Cannot set on an immutable record.');this.set(name,value);}});}
createClass(Set,SetCollection);function Set(value){return value===null||value===undefined?emptySet():isSet(value)&&!isOrdered(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)});});}
Set.of=function(){return this(arguments);};Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq());};Set.prototype.toString=function(){return this.__toString('Set {','}');};Set.prototype.has=function(value){return this._map.has(value);};Set.prototype.add=function(value){return updateSet(this,this._map.set(value,true));};Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value));};Set.prototype.clear=function(){return updateSet(this,this._map.clear());};Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);iters=iters.filter(function(x){return x.size!==0});if(iters.length===0){return this;}
if(this.size===0&&!this.__ownerID&&iters.length===1){return this.constructor(iters[0]);}
return this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++){SetIterable(iters[ii]).forEach(function(value){return set.add(value)});}});};Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this;}
iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(!iters.every(function(iter){return iter.includes(value)})){set.remove(value);}});});};Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(iters.length===0){return this;}
iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){if(iters.some(function(iter){return iter.includes(value)})){set.remove(value);}});});};Set.prototype.merge=function(){return this.union.apply(this,arguments);};Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters);};Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator));};Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper));};Set.prototype.wasAltered=function(){return this._map.wasAltered();};Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse);};Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse);};Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
var newMap=this._map.__ensureOwner(ownerID);if(!ownerID){this.__ownerID=ownerID;this._map=newMap;return this;}
return this.__make(newMap,ownerID);};function isSet(maybeSet){return!!(maybeSet&&maybeSet[IS_SET_SENTINEL]);}
Set.isSet=isSet;var IS_SET_SENTINEL='@@__IMMUTABLE_SET__@@';var SetPrototype=Set.prototype;SetPrototype[IS_SET_SENTINEL]=true;SetPrototype[DELETE]=SetPrototype.remove;SetPrototype.mergeDeep=SetPrototype.merge;SetPrototype.mergeDeepWith=SetPrototype.mergeWith;SetPrototype.withMutations=MapPrototype.withMutations;SetPrototype.asMutable=MapPrototype.asMutable;SetPrototype.asImmutable=MapPrototype.asImmutable;SetPrototype.__empty=emptySet;SetPrototype.__make=makeSet;function updateSet(set,newMap){if(set.__ownerID){set.size=newMap.size;set._map=newMap;return set;}
return newMap===set._map?set:newMap.size===0?set.__empty():set.__make(newMap);}
function makeSet(map,ownerID){var set=Object.create(SetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set;}
var EMPTY_SET;function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()));}
createClass(OrderedSet,Set);function OrderedSet(value){return value===null||value===undefined?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size);iter.forEach(function(v){return set.add(v)});});}
OrderedSet.of=function(){return this(arguments);};OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq());};OrderedSet.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet);}
OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=true;OrderedSetPrototype.__empty=emptyOrderedSet;OrderedSetPrototype.__make=makeOrderedSet;function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);set.size=map?map.size:0;set._map=map;set.__ownerID=ownerID;return set;}
var EMPTY_ORDERED_SET;function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()));}
createClass(Stack,IndexedCollection);function Stack(value){return value===null||value===undefined?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value);}
Stack.of=function(){return this(arguments);};Stack.prototype.toString=function(){return this.__toString('Stack [',']');};Stack.prototype.get=function(index,notSetValue){var head=this._head;index=wrapIndex(this,index);while(head&&index--){head=head.next;}
return head?head.value:notSetValue;};Stack.prototype.peek=function(){return this._head&&this._head.value;};Stack.prototype.push=function(){if(arguments.length===0){return this;}
var newSize=this.size+arguments.length;var head=this._head;for(var ii=arguments.length-1;ii>=0;ii--){head={value:arguments[ii],next:head};}
if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.pushAll=function(iter){iter=IndexedIterable(iter);if(iter.size===0){return this;}
assertNotInfinite(iter.size);var newSize=this.size;var head=this._head;iter.reverse().forEach(function(value){newSize++;head={value:value,next:head};});if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.pop=function(){return this.slice(1);};Stack.prototype.unshift=function(){return this.push.apply(this,arguments);};Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter);};Stack.prototype.shift=function(){return this.pop.apply(this,arguments);};Stack.prototype.clear=function(){if(this.size===0){return this;}
if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this;}
return emptyStack();};Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size)){return this;}
var resolvedBegin=resolveBegin(begin,this.size);var resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size){return IndexedCollection.prototype.slice.call(this,begin,end);}
var newSize=this.size-resolvedBegin;var head=this._head;while(resolvedBegin--){head=head.next;}
if(this.__ownerID){this.size=newSize;this._head=head;this.__hash=undefined;this.__altered=true;return this;}
return makeStack(newSize,head);};Stack.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID){return this;}
if(!ownerID){this.__ownerID=ownerID;this.__altered=false;return this;}
return makeStack(this.size,this._head,ownerID,this.__hash);};Stack.prototype.__iterate=function(fn,reverse){if(reverse){return this.reverse().__iterate(fn);}
var iterations=0;var node=this._head;while(node){if(fn(node.value,iterations++,this)===false){break;}
node=node.next;}
return iterations;};Stack.prototype.__iterator=function(type,reverse){if(reverse){return this.reverse().__iterator(type);}
var iterations=0;var node=this._head;return new Iterator(function(){if(node){var value=node.value;node=node.next;return iteratorValue(type,iterations++,value);}
return iteratorDone();});};function isStack(maybeStack){return!!(maybeStack&&maybeStack[IS_STACK_SENTINEL]);}
Stack.isStack=isStack;var IS_STACK_SENTINEL='@@__IMMUTABLE_STACK__@@';var StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=true;StackPrototype.withMutations=MapPrototype.withMutations;StackPrototype.asMutable=MapPrototype.asMutable;StackPrototype.asImmutable=MapPrototype.asImmutable;StackPrototype.wasAltered=MapPrototype.wasAltered;function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);map.size=size;map._head=head;map.__ownerID=ownerID;map.__hash=hash;map.__altered=false;return map;}
var EMPTY_STACK;function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0));}
function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key];};Object.keys(methods).forEach(keyCopier);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier);return ctor;}
Iterable.Iterator=Iterator;mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);this.valueSeq().__iterate(function(v,i){array[i]=v;});return array;},toIndexedSeq:function(){return new ToIndexedSequence(this);},toJS:function(){return this.toSeq().map(function(value){return value&&typeof value.toJS==='function'?value.toJS():value}).__toJS();},toJSON:function(){return this.toSeq().map(function(value){return value&&typeof value.toJSON==='function'?value.toJSON():value}).__toJS();},toKeyedSeq:function(){return new ToKeyedSequence(this,true);},toMap:function(){return Map(this.toKeyedSeq());},toObject:function(){assertNotInfinite(this.size);var object={};this.__iterate(function(v,k){object[k]=v;});return object;},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq());},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this);},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this);},toSetSeq:function(){return new ToSetSequence(this);},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this);},toList:function(){return List(isKeyed(this)?this.valueSeq():this);},toString:function(){return'[Iterable]';},__toString:function(head,tail){if(this.size===0){return head+tail;}
return head+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+tail;},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values));},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)});},entries:function(){return this.__iterator(ITERATE_ENTRIES);},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=true;this.__iterate(function(v,k,c){if(!predicate.call(context,v,k,c)){returnValue=false;return false;}});return returnValue;},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,true));},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue;},forEach:function(sideEffect,context){assertNotInfinite(this.size);return this.__iterate(context?sideEffect.bind(context):sideEffect);},join:function(separator){assertNotInfinite(this.size);separator=separator!==undefined?''+separator:',';var joined='';var isFirst=true;this.__iterate(function(v){isFirst?(isFirst=false):(joined+=separator);joined+=v!==null&&v!==undefined?v.toString():'';});return joined;},keys:function(){return this.__iterator(ITERATE_KEYS);},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context));},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction;var useFirst;if(arguments.length<2){useFirst=true;}else{reduction=initialReduction;}
this.__iterate(function(v,k,c){if(useFirst){useFirst=false;reduction=v;}else{reduction=reducer.call(context,reduction,v,k,c);}});return reduction;},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments);},reverse:function(){return reify(this,reverseFactory(this,true));},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,true));},some:function(predicate,context){return!this.every(not(predicate),context);},sort:function(comparator){return reify(this,sortFactory(this,comparator));},values:function(){return this.__iterator(ITERATE_VALUES);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true});},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this);},countBy:function(grouper,context){return countByFactory(this,grouper,context);},equals:function(other){return deepEqual(this,other);},entrySeq:function(){var iterable=this;if(iterable._cache){return new ArraySeq(iterable._cache);}
var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();entriesSequence.fromEntrySeq=function(){return iterable.toSeq()};return entriesSequence;},filterNot:function(predicate,context){return this.filter(not(predicate),context);},findEntry:function(predicate,context,notSetValue){var found=notSetValue;this.__iterate(function(v,k,c){if(predicate.call(context,v,k,c)){found=[k,v];return false;}});return found;},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0];},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue);},findLastEntry:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().findEntry(predicate,context,notSetValue);},findLastKey:function(predicate,context){return this.toKeyedSeq().reverse().findKey(predicate,context);},first:function(){return this.find(returnTrue);},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context));},flatten:function(depth){return reify(this,flattenFactory(this,depth,true));},fromEntrySeq:function(){return new FromEntriesSequence(this);},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},undefined,notSetValue);},getIn:function(searchKeyPath,notSetValue){var nested=this;var iter=forceIterator(searchKeyPath);var step;while(!(step=iter.next()).done){var key=step.value;nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET;if(nested===NOT_SET){return notSetValue;}}
return nested;},groupBy:function(grouper,context){return groupByFactory(this,grouper,context);},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET;},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET;},isSubset:function(iter){iter=typeof iter.includes==='function'?iter:Iterable(iter);return this.every(function(value){return iter.includes(value)});},isSuperset:function(iter){iter=typeof iter.isSubset==='function'?iter:Iterable(iter);return iter.isSubset(this);},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)});},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},lastKeyOf:function(searchValue){return this.toKeyedSeq().reverse().keyOf(searchValue);},max:function(comparator){return maxFactory(this,comparator);},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper);},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator);},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper);},rest:function(){return this.slice(1);},skip:function(amount){return this.slice(Math.max(0,amount));},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse());},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,true));},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context);},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper));},take:function(amount){return this.slice(0,Math.max(0,amount));},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse());},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context));},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this));}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=true;IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values;IterablePrototype.__toJS=IterablePrototype.toArray;IterablePrototype.__toStringMapper=quoteString;IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString();};IterablePrototype.chain=IterablePrototype.flatMap;IterablePrototype.contains=IterablePrototype.includes;mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this));},mapEntries:function(mapper,context){var this$0=this;var iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq());},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip());}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=true;KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries;KeyedIterablePrototype.__toJS=IterablePrototype.toObject;KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+': '+quoteString(v)};mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,false);},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,false));},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1;},indexOf:function(searchValue){var key=this.keyOf(searchValue);return key===undefined?-1:key;},lastIndexOf:function(searchValue){var key=this.lastKeyOf(searchValue);return key===undefined?-1:key;},reverse:function(){return reify(this,reverseFactory(this,false));},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,false));},splice:function(index,removeNum){var numArgs=arguments.length;removeNum=Math.max(removeNum|0,0);if(numArgs===0||(numArgs===2&&!removeNum)){return this;}
index=resolveBegin(index,index<0?this.count():this.size);var spliced=this.slice(0,index);return reify(this,numArgs===1?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)));},findLastIndex:function(predicate,context){var entry=this.findLastEntry(predicate,context);return entry?entry[0]:-1;},first:function(){return this.get(0);},flatten:function(depth){return reify(this,flattenFactory(this,depth,false));},get:function(index,notSetValue){index=wrapIndex(this,index);return(index<0||(this.size===Infinity||(this.size!==undefined&&index>this.size)))?notSetValue:this.find(function(_,key){return key===index},undefined,notSetValue);},has:function(index){index=wrapIndex(this,index);return index>=0&&(this.size!==undefined?this.size===Infinity||index<this.size:this.indexOf(index)!==-1);},interpose:function(separator){return reify(this,interposeFactory(this,separator));},interleave:function(){var iterables=[this].concat(arrCopy(arguments));var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);var interleaved=zipped.flatten(true);if(zipped.size){interleaved.size=zipped.size*iterables.length;}
return reify(this,interleaved);},keySeq:function(){return Range(0,this.size);},last:function(){return this.get(-1);},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,false));},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables));},zipWith:function(zipper){var iterables=arrCopy(arguments);iterables[0]=this;return reify(this,zipWithFactory(this,zipper,iterables));}});IndexedIterable.prototype[IS_INDEXED_SENTINEL]=true;IndexedIterable.prototype[IS_ORDERED_SENTINEL]=true;mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue;},includes:function(value){return this.has(value);},keySeq:function(){return this.valueSeq();}});SetIterable.prototype.has=IterablePrototype.includes;SetIterable.prototype.contains=SetIterable.prototype.includes;mixin(KeyedSeq,KeyedIterable.prototype);mixin(IndexedSeq,IndexedIterable.prototype);mixin(SetSeq,SetIterable.prototype);mixin(KeyedCollection,KeyedIterable.prototype);mixin(IndexedCollection,IndexedIterable.prototype);mixin(SetCollection,SetIterable.prototype);function keyMapper(v,k){return k;}
function entryMapper(v,k){return[k,v];}
function not(predicate){return function(){return!predicate.apply(this,arguments);}}
function neg(predicate){return function(){return-predicate.apply(this,arguments);}}
function quoteString(value){return typeof value==='string'?JSON.stringify(value):String(value);}
function defaultZipper(){return arrCopy(arguments);}
function defaultNegComparator(a,b){return a<b?1:a>b?-1:0;}
function hashIterable(iterable){if(iterable.size===Infinity){return 0;}
var ordered=isOrdered(iterable);var keyed=isKeyed(iterable);var h=ordered?1:0;var size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0;}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0;}:ordered?function(v){h=31*h+hash(v)|0;}:function(v){h=h+hash(v)|0;});return murmurHashOfSize(size,h);}
function murmurHashOfSize(size,h){h=imul(h,0xCC9E2D51);h=imul(h<<15|h>>>-15,0x1B873593);h=imul(h<<13|h>>>-13,5);h=(h+0xE6546B64|0)^size;h=imul(h^h>>>16,0x85EBCA6B);h=imul(h^h>>>13,0xC2B2AE35);h=smi(h^h>>>16);return h;}
function hashMerge(a,b){return a^b+0x9E3779B9+(a<<6)+(a>>2)|0;}
var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable;}));}),(function(module,exports){var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e+308,NAN=0/0;var argsTag='[object Arguments]',funcTag='[object Function]',genTag='[object GeneratorFunction]',stringTag='[object String]',symbolTag='[object Symbol]';var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var freeParseInt=parseInt;function arrayMap(array,iteratee){var index=-1,length=array?array.length:0,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array);}
return result;}
function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while((fromRight?index--:++index<length)){if(predicate(array[index],index,array)){return index;}}
return-1;}
function baseIndexOf(array,value,fromIndex){if(value!==value){return baseFindIndex(array,baseIsNaN,fromIndex);}
var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index;}}
return-1;}
function baseIsNaN(value){return value!==value;}
function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}
return result;}
function baseValues(object,props){return arrayMap(props,function(key){return object[key];});}
function overArg(func,transform){return function(arg){return func(transform(arg));};}
var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max;function arrayLikeKeys(value,inherited){var result=(isArray(value)||isArguments(value))?baseTimes(value.length,String):[];var length=result.length,skipIndexes=!!length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=='length'||isIndex(key,length)))){result.push(key);}}
return result;}
function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}
var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}
return result;}
function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=='number'||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length);}
function isPrototype(value){var Ctor=value&&value.constructor,proto=(typeof Ctor=='function'&&Ctor.prototype)||objectProto;return value===proto;}
function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=(fromIndex&&!guard)?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0);}
return isString(collection)?(fromIndex<=length&&collection.indexOf(value,fromIndex)>-1):(!!length&&baseIndexOf(collection,value,fromIndex)>-1);}
function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,'callee')&&(!propertyIsEnumerable.call(value,'callee')||objectToString.call(value)==argsTag);}
var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}
function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}
function isFunction(value){var tag=isObject(value)?objectToString.call(value):'';return tag==funcTag||tag==genTag;}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
function isObjectLike(value){return!!value&&typeof value=='object';}
function isString(value){return typeof value=='string'||(!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag);}
function isSymbol(value){return typeof value=='symbol'||(isObjectLike(value)&&objectToString.call(value)==symbolTag);}
function toFinite(value){if(!value){return value===0?value:0;}
value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=(value<0?-1:1);return sign*MAX_INTEGER;}
return value===value?value:0;}
function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?(remainder?result-remainder:result):0;}
function toNumber(value){if(typeof value=='number'){return value;}
if(isSymbol(value)){return NAN;}
if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?(other+''):other;}
if(typeof value!='string'){return value===0?value:+value;}
value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return(isBinary||reIsOctal.test(value))?freeParseInt(value.slice(2),isBinary?2:8):(reIsBadHex.test(value)?NAN:+value);}
function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}
function values(object){return object?baseValues(object,keys(object)):[];}
module.exports=includes;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sequence=exports.Run=exports.Pairing=exports.EmbeddingLevelState=exports.DirectionalStatusStackEntry=exports.BracketPairState=exports.BracketPairStackEntry=exports.decrease=exports.increase=undefined;var _immutable=__webpack_require__(1);var increase=function increase(c){return c+1;};var decrease=function decrease(c){return c-1;};var DirectionalStatusStackEntry=(0,_immutable.Record)({isolate:false,level:0,override:'neutral'});var EmbeddingLevelState=(0,_immutable.Record)({directionalStatusStack:_immutable.Stack.of(new DirectionalStatusStackEntry()),bidiTypes:_immutable.List.of(),embeddingLevels:_immutable.List.of(),overflowEmbeddingCount:0,overflowIsolateCount:0,validIsolateCount:0});var Run=(0,_immutable.Record)({level:-1,from:0,to:0},'Run');var Sequence=(0,_immutable.Record)({runs:_immutable.List.of(),eos:'',sos:''},'Sequence');var BracketPairStackEntry=(0,_immutable.Record)({point:0,position:0});var Pairing=(0,_immutable.Record)({open:0,close:0});var BracketPairState=(0,_immutable.Record)({stack:_immutable.Stack.of(),pairings:_immutable.List.of(),stackoverflow:false});exports.increase=increase;exports.decrease=decrease;exports.BracketPairStackEntry=BracketPairStackEntry;exports.BracketPairState=BracketPairState;exports.DirectionalStatusStackEntry=DirectionalStatusStackEntry;exports.EmbeddingLevelState=EmbeddingLevelState;exports.Pairing=Pairing;exports.Run=Run;exports.Sequence=Sequence;}),(function(module,exports,__webpack_require__){(function(global){var FUNC_ERROR_TEXT='Expected a function';var MAX_SAFE_INTEGER=9007199254740991;var argsTag='[object Arguments]',funcTag='[object Function]',genTag='[object GeneratorFunction]';var freeGlobal=typeof global=='object'&&global&&global.Object===Object&&global;var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}
return func.apply(thisArg,args);}
function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index];}
return array;}
var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined;var nativeMax=Math.max;function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result);}else{arrayPush(result,value);}}else if(!isStrict){result[result.length]=value;}}
return result;}
function baseRest(func,start){start=nativeMax(start===undefined?(func.length-1):start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}
index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}
otherArgs[start]=array;return apply(func,this,otherArgs);};}
function createFlow(fromRight){return baseRest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length;if(fromRight){funcs.reverse();}
while(index--){if(typeof funcs[index]!='function'){throw new TypeError(FUNC_ERROR_TEXT);}}
return function(){var index=0,result=length?funcs[index].apply(this,arguments):arguments[0];while(++index<length){result=funcs[index].call(this,result);}
return result;};});}
function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol]);}
function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,'callee')&&(!propertyIsEnumerable.call(value,'callee')||objectToString.call(value)==argsTag);}
var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}
function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}
function isFunction(value){var tag=isObject(value)?objectToString.call(value):'';return tag==funcTag||tag==genTag;}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}
function isObjectLike(value){return!!value&&typeof value=='object';}
var flow=createFlow();module.exports=flow;}.call(exports,__webpack_require__(5)))}),(function(module,exports){var g;g=(function(){return this;})();try{g=g||Function("return this")()||(1,eval)("this");}catch(e){if(typeof window==="object")
g=window;}
module.exports=g;}),(function(module,exports){function isUndefined(value){return value===undefined;}
module.exports=isUndefined;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);var _immutable=__webpack_require__(1);var _levelRuns2=__webpack_require__(19);var _levelRuns3=_interopRequireDefault(_levelRuns2);var _unzip3=__webpack_require__(30);var _unzip4=_interopRequireDefault(_unzip3);var _matchingPDIs2=__webpack_require__(11);var _matchingPDIs3=_interopRequireDefault(_matchingPDIs2);var _levelRunFromIndex=__webpack_require__(31);var _levelRunFromIndex2=_interopRequireDefault(_levelRunFromIndex);var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function isolatingRunSequences(paragraphCodepoints,paragraphBidiTypes){var paragraphLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var _levelRuns=(0,_levelRuns3.default)(paragraphCodepoints,paragraphBidiTypes,paragraphLevel),runs=_levelRuns.runs,bidiTypes=_levelRuns.bidiTypes,levels=_levelRuns.levels;var _unzip=(0,_unzip4.default)(paragraphCodepoints.zip(bidiTypes,paragraphBidiTypes).filter(function(_ref){var _ref2=_slicedToArray(_ref,3),__=_ref2[0],t=_ref2[1],___=_ref2[2];return(0,_constant.isX9ControlCharacter)(t)===false;})),_unzip2=_slicedToArray(_unzip,3),codepoints=_unzip2[0],bidi=_unzip2[1],pbidi=_unzip2[2];var _matchingPDIs=(0,_matchingPDIs3.default)(codepoints),initiatorToPDI=_matchingPDIs.initiatorToPDI,initiatorFromPDI=_matchingPDIs.initiatorFromPDI;function isolatingChainFrom(sequence){var initiator=sequence.last().get('to')-1;var matchingPDI=initiatorToPDI.get(initiator,-1);if(matchingPDI>-1){var runWithMatchingPDI=(0,_levelRunFromIndex2.default)(runs,matchingPDI);return isolatingChainFrom(sequence.push(runWithMatchingPDI));}else{return sequence;}}
function sequencesWithSosEos(sequences){return sequences.map(function(sequence,index){var N=codepoints.size;var from=sequence.get('runs').first().get('from');var to=sequence.get('runs').last().get('to');var charLevel=function charLevel(i){if((0,_immutable.Range)(0,N).contains(i)){return(0,_levelRunFromIndex2.default)(runs,i).get('level');}else{return paragraphLevel;}};var prevLevel=charLevel(from-1);var currLevel=charLevel(from);var nextLevel=function(__){var lastChar=codepoints.get(to-1);var matchingPDI=initiatorToPDI.get(lastChar,-1);if((0,_lodash2.default)([_constant.LRI,_constant.RLI,_constant.FSI],lastChar)&&matchingPDI===-1){return paragraphLevel;}else return charLevel(to);}();var sos=Math.max(prevLevel,currLevel)%2===1?'R':'L';var eos=Math.max(currLevel,nextLevel)%2===1?'R':'L';return sequence.set('sos',sos).set('eos',eos);});}
var sequences=sequencesWithSosEos(runs.filter(function(run){var from=run.get('from');var firstChar=codepoints.get(from);var matchingInitiator=initiatorFromPDI.get(from,-1);return firstChar!==_constant.PDI||matchingInitiator===-1;}).reduce(function(sequences,run,index){var sequence=new _type.Sequence({runs:isolatingChainFrom(_immutable.List.of(run))});return sequences.push(sequence);},_immutable.List.of()));return{sequences:sequences,codepoints:codepoints,bidiTypes:bidi,paragraphBidiTypes:pbidi,levels:levels};}
exports.default=isolatingRunSequences;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function isCurrentlyOverflowing(state){var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');return isolate>0||embedding>0;}
function rli(ch,bidiType,index,state){if(ch!==_constant.RLI)return state;var lastEntry=state.get('directionalStatusStack').peek();var lastLevel=lastEntry.get('level');return(0,_lodash2.default)(function setEmbedding(state){return state.update('embeddingLevels',function(ls){return ls.set(index,lastLevel);});},function checkOverride(state){var lastOverride=lastEntry.get('override');if(lastOverride!=='neutral'){var override=lastOverride==='left-to-right'?'L':'R';return state.update('bidiTypes',function(ts){return ts.set(index,override);});}else{return state;}},function increaseLevel(state){var newLevel=lastLevel+1+lastLevel%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isOverflow=newLevelInvalid||isCurrentlyOverflowing(state);if(isOverflow)return state.update('overflowIsolateCount',_type.increase);return state.update('validIsolateCount',_type.increase).update('directionalStatusStack',function(stack){return stack.push(new _type.DirectionalStatusStackEntry({isolate:true,level:newLevel}));});})(state);}
exports.default=rli;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);var _type=__webpack_require__(3);var _constant=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function isCurrentlyOverflowing(state){var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');return isolate>0||embedding>0;}
function lri(ch,bidiType,index,state){if(ch!==_constant.LRI)return state;var lastEntry=state.get('directionalStatusStack').peek();var lastLevel=lastEntry.get('level');return(0,_lodash2.default)(function setEmbedding(state){return state.update('embeddingLevels',function(ls){return ls.set(index,lastLevel);});},function checkOverride(state){var lastOverride=lastEntry.get('override');if(lastOverride!=='neutral'){var override=lastOverride==='left-to-right'?'L':'R';return state.update('bidiTypes',function(ts){return ts.set(index,override);});}else{return state;}},function increaseLevel(state){var newLevel=lastLevel+1+(lastLevel+1)%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isOverflow=newLevelInvalid||isCurrentlyOverflowing(state);if(isOverflow)return state.update('overflowIsolateCount',_type.increase);return state.update('validIsolateCount',_type.increase).update('directionalStatusStack',function(stack){return stack.push(new _type.DirectionalStatusStackEntry({isolate:true,level:newLevel}));});})(state);}
exports.default=lri;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _lodash=__webpack_require__(6);var _lodash2=_interopRequireDefault(_lodash);var _lodash3=__webpack_require__(2);var _lodash4=_interopRequireDefault(_lodash3);var _immutable=__webpack_require__(1);var _constant=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function automaticLevel(codepoints,bidiTypes){var P2State=(0,_immutable.Record)({inside:false,counter:0},'P2State');var betweenIsolate=codepoints.reduce(function(acc,codepoint){var counter=acc.get(-1,0);return acc.push(function(){if((0,_lodash4.default)([_constant.LRI,_constant.RLI,_constant.FSI],codepoint))return counter+1;else if(codepoint===_constant.PDI&&counter>0)return counter-1;else return counter;}());},_immutable.List.of()).map(function(counter){return counter>0?true:false;});var firstStrong=codepoints.zip(bidiTypes,betweenIsolate).filter(function(_ref){var _ref2=_slicedToArray(_ref,3),_=_ref2[0],__=_ref2[1],between=_ref2[2];return between===false;}).map(function(_ref3){var _ref4=_slicedToArray(_ref3,3),_=_ref4[0],bidiType=_ref4[1],__=_ref4[2];return bidiType;}).find(function(t){return(0,_lodash4.default)(['L','R','AL'],t);});if((0,_lodash4.default)(['R','AL'],firstStrong)){return 1;}else{return 0;}}
exports.default=automaticLevel;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _immutable=__webpack_require__(1);var _matchingPDIForIndex=__webpack_require__(26);var _matchingPDIForIndex2=_interopRequireDefault(_matchingPDIForIndex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function matchingPDIs(codepoints){var N=codepoints.size;var tuples=(0,_immutable.Range)().zip((0,_immutable.Range)(0,N).map(function(i){return(0,_matchingPDIForIndex2.default)(codepoints,i);})).filter(function(_ref){var _ref2=_slicedToArray(_ref,2),x=_ref2[0],y=_ref2[1];return y!==-1;});var tuplesInverted=tuples.map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),x=_ref4[0],y=_ref4[1];return[y,x];});var initiatorToPDI=(0,_immutable.Map)(tuples);var initiatorFromPDI=(0,_immutable.Map)(tuplesInverted);return{initiatorToPDI:initiatorToPDI,initiatorFromPDI:initiatorFromPDI};}
exports.default=matchingPDIs;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _immutable=__webpack_require__(1);function unzip(pairs){var unzipped=pairs.reduce(function(unzipped,_ref){var _ref2=_slicedToArray(_ref,2),a=_ref2[0],b=_ref2[1];return unzipped.update(0,function(as){return as.push(a);}).update(1,function(bs){return bs.push(b);});},_immutable.List.of(_immutable.List.of(),_immutable.List.of()));return[unzipped.get(0),unzipped.get(1)];}
exports.default=unzip;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var openingBrackets=new Set([0x0028,0x005B,0x007B,0x0F3A,0x0F3C,0x169B,0x2045,0x207D,0x208D,0x2308,0x230A,0x2329,0x2768,0x276A,0x276C,0x276E,0x2770,0x2772,0x2774,0x27C5,0x27E6,0x27E8,0x27EA,0x27EC,0x27EE,0x2983,0x2985,0x2987,0x2989,0x298B,0x298D,0x298F,0x2991,0x2993,0x2995,0x2997,0x29D8,0x29DA,0x29FC,0x2E22,0x2E24,0x2E26,0x2E28,0x3008,0x300A,0x300C,0x300E,0x3010,0x3014,0x3016,0x3018,0x301A,0xFE59,0xFE5B,0xFE5D,0xFF08,0xFF3B,0xFF5B,0xFF5F,0xFF62]);exports.default=openingBrackets;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var closingBrackets=new Set([0x0029,0x005D,0x007D,0x0F3B,0x0F3D,0x169C,0x2046,0x207E,0x208E,0x2309,0x230B,0x232A,0x2769,0x276B,0x276D,0x276F,0x2771,0x2773,0x2775,0x27C6,0x27E7,0x27E9,0x27EB,0x27ED,0x27EF,0x2984,0x2986,0x2988,0x298A,0x298C,0x298E,0x2990,0x2992,0x2994,0x2996,0x2998,0x29D9,0x29DB,0x29FD,0x2E23,0x2E25,0x2E27,0x2E29,0x3009,0x300B,0x300D,0x300F,0x3011,0x3015,0x3017,0x3019,0x301B,0xFE5A,0xFE5C,0xFE5E,0xFF09,0xFF3D,0xFF5D,0xFF60,0xFF63]);exports.default=closingBrackets;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var oppositeBracket=new Map([[0x0028,0x0029],[0x0029,0x0028],[0x005B,0x005D],[0x005D,0x005B],[0x007B,0x007D],[0x007D,0x007B],[0x0F3A,0x0F3B],[0x0F3B,0x0F3A],[0x0F3C,0x0F3D],[0x0F3D,0x0F3C],[0x169B,0x169C],[0x169C,0x169B],[0x2045,0x2046],[0x2046,0x2045],[0x207D,0x207E],[0x207E,0x207D],[0x208D,0x208E],[0x208E,0x208D],[0x2308,0x2309],[0x2309,0x2308],[0x230A,0x230B],[0x230B,0x230A],[0x2329,0x232A],[0x232A,0x2329],[0x2768,0x2769],[0x2769,0x2768],[0x276A,0x276B],[0x276B,0x276A],[0x276C,0x276D],[0x276D,0x276C],[0x276E,0x276F],[0x276F,0x276E],[0x2770,0x2771],[0x2771,0x2770],[0x2772,0x2773],[0x2773,0x2772],[0x2774,0x2775],[0x2775,0x2774],[0x27C5,0x27C6],[0x27C6,0x27C5],[0x27E6,0x27E7],[0x27E7,0x27E6],[0x27E8,0x27E9],[0x27E9,0x27E8],[0x27EA,0x27EB],[0x27EB,0x27EA],[0x27EC,0x27ED],[0x27ED,0x27EC],[0x27EE,0x27EF],[0x27EF,0x27EE],[0x2983,0x2984],[0x2984,0x2983],[0x2985,0x2986],[0x2986,0x2985],[0x2987,0x2988],[0x2988,0x2987],[0x2989,0x298A],[0x298A,0x2989],[0x298B,0x298C],[0x298C,0x298B],[0x298D,0x2990],[0x298E,0x298F],[0x298F,0x298E],[0x2990,0x298D],[0x2991,0x2992],[0x2992,0x2991],[0x2993,0x2994],[0x2994,0x2993],[0x2995,0x2996],[0x2996,0x2995],[0x2997,0x2998],[0x2998,0x2997],[0x29D8,0x29D9],[0x29D9,0x29D8],[0x29DA,0x29DB],[0x29DB,0x29DA],[0x29FC,0x29FD],[0x29FD,0x29FC],[0x2E22,0x2E23],[0x2E23,0x2E22],[0x2E24,0x2E25],[0x2E25,0x2E24],[0x2E26,0x2E27],[0x2E27,0x2E26],[0x2E28,0x2E29],[0x2E29,0x2E28],[0x3008,0x3009],[0x3009,0x3008],[0x300A,0x300B],[0x300B,0x300A],[0x300C,0x300D],[0x300D,0x300C],[0x300E,0x300F],[0x300F,0x300E],[0x3010,0x3011],[0x3011,0x3010],[0x3014,0x3015],[0x3015,0x3014],[0x3016,0x3017],[0x3017,0x3016],[0x3018,0x3019],[0x3019,0x3018],[0x301A,0x301B],[0x301B,0x301A],[0xFE59,0xFE5A],[0xFE5A,0xFE59],[0xFE5B,0xFE5C],[0xFE5C,0xFE5B],[0xFE5D,0xFE5E],[0xFE5E,0xFE5D],[0xFF08,0xFF09],[0xFF09,0xFF08],[0xFF3B,0xFF3D],[0xFF3D,0xFF3B],[0xFF5B,0xFF5D],[0xFF5D,0xFF5B],[0xFF5F,0xFF60],[0xFF60,0xFF5F],[0xFF62,0xFF63],[0xFF63,0xFF62]]);exports.default=oppositeBracket;}),(function(module,exports){module.exports=new Map([[40,')'],[41,'('],[60,'>'],[62,'<'],[91,']'],[93,'['],[123,'}'],[125,'{'],[171,'\xBB'],[187,'\xAB'],[3898,'\u0F3B'],[3899,'\u0F3A'],[3900,'\u0F3D'],[3901,'\u0F3C'],[5787,'\u169C'],[5788,'\u169B'],[8249,'\u203A'],[8250,'\u2039'],[8261,'\u2046'],[8262,'\u2045'],[8317,'\u207E'],[8318,'\u207D'],[8333,'\u208E'],[8334,'\u208D'],[8712,'\u220B'],[8713,'\u220C'],[8714,'\u220D'],[8715,'\u2208'],[8716,'\u2209'],[8717,'\u220A'],[8725,'\u29F5'],[8764,'\u223D'],[8765,'\u223C'],[8771,'\u22CD'],[8786,'\u2253'],[8787,'\u2252'],[8788,'\u2255'],[8789,'\u2254'],[8804,'\u2265'],[8805,'\u2264'],[8806,'\u2267'],[8807,'\u2266'],[8808,'\u2269'],[8809,'\u2268'],[8810,'\u226B'],[8811,'\u226A'],[8814,'\u226F'],[8815,'\u226E'],[8816,'\u2271'],[8817,'\u2270'],[8818,'\u2273'],[8819,'\u2272'],[8820,'\u2275'],[8821,'\u2274'],[8822,'\u2277'],[8823,'\u2276'],[8824,'\u2279'],[8825,'\u2278'],[8826,'\u227B'],[8827,'\u227A'],[8828,'\u227D'],[8829,'\u227C'],[8830,'\u227F'],[8831,'\u227E'],[8832,'\u2281'],[8833,'\u2280'],[8834,'\u2283'],[8835,'\u2282'],[8836,'\u2285'],[8837,'\u2284'],[8838,'\u2287'],[8839,'\u2286'],[8840,'\u2289'],[8841,'\u2288'],[8842,'\u228B'],[8843,'\u228A'],[8847,'\u2290'],[8848,'\u228F'],[8849,'\u2292'],[8850,'\u2291'],[8856,'\u29B8'],[8866,'\u22A3'],[8867,'\u22A2'],[8870,'\u2ADE'],[8872,'\u2AE4'],[8873,'\u2AE3'],[8875,'\u2AE5'],[8880,'\u22B1'],[8881,'\u22B0'],[8882,'\u22B3'],[8883,'\u22B2'],[8884,'\u22B5'],[8885,'\u22B4'],[8886,'\u22B7'],[8887,'\u22B6'],[8905,'\u22CA'],[8906,'\u22C9'],[8907,'\u22CC'],[8908,'\u22CB'],[8909,'\u2243'],[8912,'\u22D1'],[8913,'\u22D0'],[8918,'\u22D7'],[8919,'\u22D6'],[8920,'\u22D9'],[8921,'\u22D8'],[8922,'\u22DB'],[8923,'\u22DA'],[8924,'\u22DD'],[8925,'\u22DC'],[8926,'\u22DF'],[8927,'\u22DE'],[8928,'\u22E1'],[8929,'\u22E0'],[8930,'\u22E3'],[8931,'\u22E2'],[8932,'\u22E5'],[8933,'\u22E4'],[8934,'\u22E7'],[8935,'\u22E6'],[8936,'\u22E9'],[8937,'\u22E8'],[8938,'\u22EB'],[8939,'\u22EA'],[8940,'\u22ED'],[8941,'\u22EC'],[8944,'\u22F1'],[8945,'\u22F0'],[8946,'\u22FA'],[8947,'\u22FB'],[8948,'\u22FC'],[8950,'\u22FD'],[8951,'\u22FE'],[8954,'\u22F2'],[8955,'\u22F3'],[8956,'\u22F4'],[8957,'\u22F6'],[8958,'\u22F7'],[8968,'\u2309'],[8969,'\u2308'],[8970,'\u230B'],[8971,'\u230A'],[9001,'\u232A'],[9002,'\u2329'],[10088,'\u2769'],[10089,'\u2768'],[10090,'\u276B'],[10091,'\u276A'],[10092,'\u276D'],[10093,'\u276C'],[10094,'\u276F'],[10095,'\u276E'],[10096,'\u2771'],[10097,'\u2770'],[10098,'\u2773'],[10099,'\u2772'],[10100,'\u2775'],[10101,'\u2774'],[10179,'\u27C4'],[10180,'\u27C3'],[10181,'\u27C6'],[10182,'\u27C5'],[10184,'\u27C9'],[10185,'\u27C8'],[10187,'\u27CD'],[10189,'\u27CB'],[10197,'\u27D6'],[10198,'\u27D5'],[10205,'\u27DE'],[10206,'\u27DD'],[10210,'\u27E3'],[10211,'\u27E2'],[10212,'\u27E5'],[10213,'\u27E4'],[10214,'\u27E7'],[10215,'\u27E6'],[10216,'\u27E9'],[10217,'\u27E8'],[10218,'\u27EB'],[10219,'\u27EA'],[10220,'\u27ED'],[10221,'\u27EC'],[10222,'\u27EF'],[10223,'\u27EE'],[10627,'\u2984'],[10628,'\u2983'],[10629,'\u2986'],[10630,'\u2985'],[10631,'\u2988'],[10632,'\u2987'],[10633,'\u298A'],[10634,'\u2989'],[10635,'\u298C'],[10636,'\u298B'],[10637,'\u2990'],[10638,'\u298F'],[10639,'\u298E'],[10640,'\u298D'],[10641,'\u2992'],[10642,'\u2991'],[10643,'\u2994'],[10644,'\u2993'],[10645,'\u2996'],[10646,'\u2995'],[10647,'\u2998'],[10648,'\u2997'],[10680,'\u2298'],[10688,'\u29C1'],[10689,'\u29C0'],[10692,'\u29C5'],[10693,'\u29C4'],[10703,'\u29D0'],[10704,'\u29CF'],[10705,'\u29D2'],[10706,'\u29D1'],[10708,'\u29D5'],[10709,'\u29D4'],[10712,'\u29D9'],[10713,'\u29D8'],[10714,'\u29DB'],[10715,'\u29DA'],[10741,'\u2215'],[10744,'\u29F9'],[10745,'\u29F8'],[10748,'\u29FD'],[10749,'\u29FC'],[10795,'\u2A2C'],[10796,'\u2A2B'],[10797,'\u2A2E'],[10798,'\u2A2D'],[10804,'\u2A35'],[10805,'\u2A34'],[10812,'\u2A3D'],[10813,'\u2A3C'],[10852,'\u2A65'],[10853,'\u2A64'],[10873,'\u2A7A'],[10874,'\u2A79'],[10877,'\u2A7E'],[10878,'\u2A7D'],[10879,'\u2A80'],[10880,'\u2A7F'],[10881,'\u2A82'],[10882,'\u2A81'],[10883,'\u2A84'],[10884,'\u2A83'],[10891,'\u2A8C'],[10892,'\u2A8B'],[10897,'\u2A92'],[10898,'\u2A91'],[10899,'\u2A94'],[10900,'\u2A93'],[10901,'\u2A96'],[10902,'\u2A95'],[10903,'\u2A98'],[10904,'\u2A97'],[10905,'\u2A9A'],[10906,'\u2A99'],[10907,'\u2A9C'],[10908,'\u2A9B'],[10913,'\u2AA2'],[10914,'\u2AA1'],[10918,'\u2AA7'],[10919,'\u2AA6'],[10920,'\u2AA9'],[10921,'\u2AA8'],[10922,'\u2AAB'],[10923,'\u2AAA'],[10924,'\u2AAD'],[10925,'\u2AAC'],[10927,'\u2AB0'],[10928,'\u2AAF'],[10931,'\u2AB4'],[10932,'\u2AB3'],[10939,'\u2ABC'],[10940,'\u2ABB'],[10941,'\u2ABE'],[10942,'\u2ABD'],[10943,'\u2AC0'],[10944,'\u2ABF'],[10945,'\u2AC2'],[10946,'\u2AC1'],[10947,'\u2AC4'],[10948,'\u2AC3'],[10949,'\u2AC6'],[10950,'\u2AC5'],[10957,'\u2ACE'],[10958,'\u2ACD'],[10959,'\u2AD0'],[10960,'\u2ACF'],[10961,'\u2AD2'],[10962,'\u2AD1'],[10963,'\u2AD4'],[10964,'\u2AD3'],[10965,'\u2AD6'],[10966,'\u2AD5'],[10974,'\u22A6'],[10979,'\u22A9'],[10980,'\u22A8'],[10981,'\u22AB'],[10988,'\u2AED'],[10989,'\u2AEC'],[10999,'\u2AF8'],[11000,'\u2AF7'],[11001,'\u2AFA'],[11002,'\u2AF9'],[11778,'\u2E03'],[11779,'\u2E02'],[11780,'\u2E05'],[11781,'\u2E04'],[11785,'\u2E0A'],[11786,'\u2E09'],[11788,'\u2E0D'],[11789,'\u2E0C'],[11804,'\u2E1D'],[11805,'\u2E1C'],[11808,'\u2E21'],[11809,'\u2E20'],[11810,'\u2E23'],[11811,'\u2E22'],[11812,'\u2E25'],[11813,'\u2E24'],[11814,'\u2E27'],[11815,'\u2E26'],[11816,'\u2E29'],[11817,'\u2E28'],[12296,'\u3009'],[12297,'\u3008'],[12298,'\u300B'],[12299,'\u300A'],[12300,'\u300D'],[12301,'\u300C'],[12302,'\u300F'],[12303,'\u300E'],[12304,'\u3011'],[12305,'\u3010'],[12308,'\u3015'],[12309,'\u3014'],[12310,'\u3017'],[12311,'\u3016'],[12312,'\u3019'],[12313,'\u3018'],[12314,'\u301B'],[12315,'\u301A'],[65113,'\uFE5A'],[65114,'\uFE59'],[65115,'\uFE5C'],[65116,'\uFE5B'],[65117,'\uFE5E'],[65118,'\uFE5D'],[65124,'\uFE65'],[65125,'\uFE64'],[65288,'\uFF09'],[65289,'\uFF08'],[65308,'\uFF1E'],[65310,'\uFF1C'],[65339,'\uFF3D'],[65341,'\uFF3B'],[65371,'\uFF5D'],[65373,'\uFF5B'],[65375,'\uFF60'],[65376,'\uFF5F'],[65378,'\uFF63'],[65379,'\uFF62']])}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.constants=exports.mirror=exports.reorderPermutation=exports.reorder=exports.resolve=undefined;var _resolvedLevels=__webpack_require__(18);var _reorderedLevels=__webpack_require__(48);var _reorderedLevels2=_interopRequireDefault(_reorderedLevels);var _unicodeBidiclass=__webpack_require__(50);var _unicodeBidiclass2=_interopRequireDefault(_unicodeBidiclass);var _punycode=__webpack_require__(51);var _punycode2=_interopRequireDefault(_punycode);var _immutable=__webpack_require__(1);var _openingBrackets=__webpack_require__(13);var _openingBrackets2=_interopRequireDefault(_openingBrackets);var _closingBrackets=__webpack_require__(14);var _closingBrackets2=_interopRequireDefault(_closingBrackets);var _oppositeBracket=__webpack_require__(15);var _oppositeBracket2=_interopRequireDefault(_oppositeBracket);var _Bidi_Mirroring_Glyph=__webpack_require__(16);var _Bidi_Mirroring_Glyph2=_interopRequireDefault(_Bidi_Mirroring_Glyph);var _mirror=__webpack_require__(53);var _mirror2=_interopRequireDefault(_mirror);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function resolve(codepoints,paragraphLevel){var automaticLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var encoding=_punycode2.default.ucs2.encode(codepoints);var normalForm=encoding.normalize('NFC');var decoding=_punycode2.default.ucs2.decode(normalForm);var points=(0,_immutable.fromJS)(decoding);var bidiTypes=points.map(_unicodeBidiclass2.default);return(0,_resolvedLevels.resolvedLevelsWithInvisibles)(points,bidiTypes,paragraphLevel,automaticLevel).toJS();}
function reorder(codepoints,levels){var automaticLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return(0,_reorderedLevels2.default)((0,_immutable.fromJS)(codepoints),(0,_immutable.fromJS)(levels),automaticLevel).toJS();}
function reorderPermutation(levels){return(0,_reorderedLevels.reorderPermutation)((0,_immutable.fromJS)(levels)).toJS();}
function mirror(codepoints,levels){return(0,_mirror2.default)((0,_immutable.fromJS)(codepoints),(0,_immutable.fromJS)(levels)).toJS();}
var constants={mirrorMap:_Bidi_Mirroring_Glyph2.default,oppositeBracket:_oppositeBracket2.default,openingBrackets:_openingBrackets2.default,closingBrackets:_closingBrackets2.default};exports.resolve=resolve;exports.reorder=reorder;exports.reorderPermutation=reorderPermutation;exports.mirror=mirror;exports.constants=constants;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolvedLevelsWithInvisibles=undefined;var _immutable=__webpack_require__(1);var _isolatingRunSequences=__webpack_require__(7);var _isolatingRunSequences2=_interopRequireDefault(_isolatingRunSequences);var _constant=__webpack_require__(0);var _unzip=__webpack_require__(12);var _unzip2=_interopRequireDefault(_unzip);var _runOffsets=__webpack_require__(32);var _runOffsets2=_interopRequireDefault(_runOffsets);var _automaticLevel=__webpack_require__(10);var _automaticLevel2=_interopRequireDefault(_automaticLevel);var _implicit=__webpack_require__(33);var _implicit2=_interopRequireDefault(_implicit);var _resolvedWeaks=__webpack_require__(34);var _resolvedWeaks2=_interopRequireDefault(_resolvedWeaks);var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);var _whitespacesLevelReset=__webpack_require__(47);var _whitespacesLevelReset2=_interopRequireDefault(_whitespacesLevelReset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function resolvedLevelsWithInvisibles(paragraphCodepoints,paragraphBidiTypes,paragraphLevel){var autoLTR=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var levels=resolvedLevels(paragraphCodepoints,paragraphBidiTypes,paragraphLevel,autoLTR);function merge(bidiTypes,ls,acc){if(bidiTypes.size===0)return acc;if((0,_constant.isX9ControlCharacter)(bidiTypes.first())){return merge(bidiTypes.rest(),ls,acc.push('x'));}else{return merge(bidiTypes.rest(),ls.rest(),acc.push(ls.first()));}}
return merge(paragraphBidiTypes,levels,_immutable.List.of());}
function resolvedLevels(paragraphCodepoints,paragraphBidiTypes,paragraphLevel){var autoLTR=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var level=autoLTR===true?(0,_automaticLevel2.default)(paragraphCodepoints,paragraphBidiTypes):paragraphLevel;var _isolatingRunSequence=(0,_isolatingRunSequences2.default)(paragraphCodepoints,paragraphBidiTypes,level),sequences=_isolatingRunSequence.sequences,codepoints=_isolatingRunSequence.codepoints,bidiTypes=_isolatingRunSequence.bidiTypes,pbidi=_isolatingRunSequence.paragraphBidiTypes,levels=_isolatingRunSequence.levels;var resolvedTypes=(0,_resolvedWeaks2.default)(codepoints,bidiTypes,sequences);var N=bidiTypes.size;var sequenceResolved=sequences.reduce(updateLevelsFromRuns,(0,_immutable.List)((0,_immutable.Range)(0,N)).map(function(__){return 0;}));var resolvedImplicit=(0,_implicit2.default)(resolvedTypes,sequenceResolved);return(0,_whitespacesLevelReset2.default)(pbidi,resolvedImplicit,level);}
function updateLevelsFromRuns(levels,sequence){var runs=sequence.get('runs');var newLevels=runs.reduce(function(levels,run){var _run$toJS=run.toJS(),from=_run$toJS.from,to=_run$toJS.to;var size=to-from;var level=run.get('level');var levelSlice=(0,_immutable.List)((0,_immutable.Range)(0,size)).map(function(x){return level;});return levels.slice(0,from).concat(levelSlice).concat(levels.slice(to));},levels);return newLevels;}
exports.resolvedLevelsWithInvisibles=resolvedLevelsWithInvisibles;exports.default=resolvedLevels;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);var _immutable=__webpack_require__(1);var _constant=__webpack_require__(0);var _type=__webpack_require__(3);var _rules=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function levelRuns(codepoints,bidiTypes){var paragraphLevel=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var rules=[_rules.rle,_rules.lre,_rules.rlo,_rules.lro,_rules.rli,_rules.lri,_rules.fsi,_rules.other,_rules.pdi,_rules.pdf];var initialStack=_immutable.Stack.of(new _type.DirectionalStatusStackEntry({level:paragraphLevel}));var initial=new _type.EmbeddingLevelState({directionalStatusStack:initialStack}).set('bidiTypes',bidiTypes).set('embeddingLevels',codepoints.map(function(__){return paragraphLevel;}));var finalState=codepoints.zip(bidiTypes).reduce(function(state,_ref,index){var _ref2=_slicedToArray(_ref,2),codepoint=_ref2[0],bidiType=_ref2[1];return rules.reduce(function(s,rule){return rule(codepoint,bidiType,index,s,codepoints,bidiTypes);},state);},initial);var runs=codepoints.zip(bidiTypes,finalState.get('embeddingLevels')).filter(function(_ref3){var _ref4=_slicedToArray(_ref3,3),__=_ref4[0],t=_ref4[1],___=_ref4[2];return(0,_constant.isX9ControlCharacter)(t)===false;}).reduce(function(runs,_ref5,index){var _ref6=_slicedToArray(_ref5,3),codepoint=_ref6[0],bidiTypes=_ref6[1],level=_ref6[2];var R=runs.size-1;if(runs.getIn([R,'level'],-1)===level){return runs.updateIn([R,'to'],_type.increase);}else{return runs.push(new _type.Run({level:level,from:index,to:index+1}));}},_immutable.List.of());return{runs:runs,bidiTypes:finalState.get('bidiTypes'),levels:finalState.get('embeddingLevels')};}
exports.default=levelRuns;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pdf=exports.pdi=exports.other=exports.fsi=exports.lri=exports.rli=exports.lro=exports.rlo=exports.lre=exports.rle=undefined;var _rle=__webpack_require__(21);var _lre=__webpack_require__(22);var _lre2=_interopRequireDefault(_lre);var _rlo=__webpack_require__(23);var _rlo2=_interopRequireDefault(_rlo);var _lro=__webpack_require__(24);var _lro2=_interopRequireDefault(_lro);var _rli=__webpack_require__(8);var _rli2=_interopRequireDefault(_rli);var _lri=__webpack_require__(9);var _lri2=_interopRequireDefault(_lri);var _fsi=__webpack_require__(25);var _fsi2=_interopRequireDefault(_fsi);var _other=__webpack_require__(27);var _other2=_interopRequireDefault(_other);var _pdi=__webpack_require__(28);var _pdf=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.rle=_rle.rle;exports.lre=_lre2.default;exports.rlo=_rlo2.default;exports.lro=_lro2.default;exports.rli=_rli2.default;exports.lri=_lri2.default;exports.fsi=_fsi2.default;exports.other=_other2.default;exports.pdi=_pdi.pdi;exports.pdf=_pdf.pdf;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rle=undefined;var _constant=__webpack_require__(0);var _type=__webpack_require__(3);var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function rle(ch,bidiType,index,state){if(ch!==_constant.RLE)return state;var lastLevel=state.get('directionalStatusStack').peek().get('level');return(0,_lodash2.default)(function(state){return state.setIn(['embeddingLevels','levels',index],lastLevel);},function(state){var newLevel=lastLevel+1+lastLevel%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');var isCurrentOverflow=isolate>0||embedding>0;var isOverflowRLE=newLevelInvalid||isCurrentOverflow;if(isOverflowRLE){if(isolate===0){return state.update('overflowEmbeddingCount',_type.increase);}else{return state;}}else{var newEntry=new _type.DirectionalStatusStackEntry({level:newLevel});return state.update('directionalStatusStack',function(stack){return stack.push(newEntry);});}})(state);}
exports.rle=rle;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function lre(ch,bidiType,index,state){if(ch!==_constant.LRE)return state;var lastLevel=state.get('directionalStatusStack').peek().get('level');return(0,_lodash2.default)(function(state){return state.setIn(['embeddingLevels','levels',index],lastLevel);},function(state){var newLevel=lastLevel+1+(lastLevel+1)%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');var isCurrentOverflow=isolate>0||embedding>0;var isOverflowRLE=newLevelInvalid||isCurrentOverflow;if(isOverflowRLE){if(isolate===0){return state.update('overflowEmbeddingCount',_type.increase);}else{return state;}}else{var newEntry=new _type.DirectionalStatusStackEntry({level:newLevel});return state.update('directionalStatusStack',function(stack){return stack.push(newEntry);});}})(state);}
exports.default=lre;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function rlo(ch,bidiType,index,state){if(ch!==_constant.RLO)return state;var lastLevel=state.get('directionalStatusStack').peek().get('level');var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');var newLevel=lastLevel+1+lastLevel%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isCurrentOverflow=isolate>0||embedding>0;var isOverflowRLE=newLevelInvalid||isCurrentOverflow;if(isOverflowRLE){if(isolate===0){return state.update('overflowEmbeddingCount',_type.increase);}else{return state;}}else{return state.update('directionalStatusStack',function(stack){return stack.push(new _type.DirectionalStatusStackEntry({level:newLevel,override:'right-to-left'}));});}}
exports.default=rlo;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function lro(ch,bidiType,index,state){if(ch!==_constant.LRO)return state;var lastLevel=state.get('directionalStatusStack').peek().get('level');var isolate=state.get('overflowIsolateCount');var embedding=state.get('overflowEmbeddingCount');var newLevel=lastLevel+1+(lastLevel+1)%2;var newLevelInvalid=newLevel>_constant.MAX_DEPTH;var isCurrentOverflow=isolate>0||embedding>0;var isOverflowRLE=newLevelInvalid||isCurrentOverflow;if(isOverflowRLE){if(isolate===0){return state.update('overflowEmbeddingCount',_type.increase);}else{return state;}}else{return state.update('directionalStatusStack',function(stack){return stack.push(new _type.DirectionalStatusStackEntry({level:newLevel,override:'left-to-right'}));});}}
exports.default=lro;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _rli=__webpack_require__(8);var _rli2=_interopRequireDefault(_rli);var _lri=__webpack_require__(9);var _lri2=_interopRequireDefault(_lri);var _automaticLevel=__webpack_require__(10);var _automaticLevel2=_interopRequireDefault(_automaticLevel);var _matchingPDIs2=__webpack_require__(11);var _matchingPDIs3=_interopRequireDefault(_matchingPDIs2);var _constant=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function fsi(codepoint,bidiType,index,state,codepoints,bidiTypes){if(codepoint!==_constant.FSI)return state;var _matchingPDIs=(0,_matchingPDIs3.default)(codepoints),initiatorToPDI=_matchingPDIs.initiatorToPDI;var matchingPDI=initiatorToPDI.get(index,-1);var from=index+1;var to=matchingPDI>-1?matchingPDI:codepoints.size;var codepointsSlice=codepoints.slice(from,to);var bidiTypesSlice=bidiTypes.slice(from,to);if((0,_automaticLevel2.default)(codepointsSlice,bidiTypesSlice)===1){return(0,_rli2.default)(_constant.RLI,bidiType,index,state,codepoints);}else{return(0,_lri2.default)(_constant.LRI,bidiType,index,state,codepoints);}}
exports.default=fsi;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);var _constant=__webpack_require__(0);var _immutable=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function matchingPDIForIndex(codepoints,index){if(index>=codepoints.size){return-1;}
if(!(0,_lodash2.default)([_constant.LRI,_constant.RLI,_constant.FSI],codepoints.get(index))){return-1;}
var after=codepoints.slice(index+1);var BD9State=(0,_immutable.Record)({counter:1,index:-1},'BD9State');var finalState=after.reduce(function(state,codepoint,offset){if(state.get('index')>-1)return state;var newCounter=function(){var counter=state.get('counter');if((0,_lodash2.default)([_constant.LRI,_constant.RLI,_constant.FSI],codepoint))return counter+1;else if(codepoint===_constant.PDI)return counter-1;else return counter;}();if(codepoint===_constant.PDI&&newCounter===0){return new BD9State({counter:newCounter,index:index+(offset+1)});}else{return state.set('counter',newCounter);}},new BD9State());return finalState.get('index');}
exports.default=matchingPDIForIndex;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);var _lodash3=__webpack_require__(2);var _lodash4=_interopRequireDefault(_lodash3);var _constant=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function other(ch,bidiType,index,state){if((0,_constant.isNonFormatting)(bidiType))return state;var lastEntry=state.get('directionalStatusStack').peek();var lastLevel=lastEntry.get('level');return(0,_lodash2.default)(function setEmbedding(state){return state.update('embeddingLevels',function(ls){return ls.set(index,lastLevel);});},function checkOverride(state){var lastOverride=lastEntry.get('override');if(lastOverride!=='neutral'){var override=lastOverride==='left-to-right'?'L':'R';return state.update('bidiTypes',function(ts){return ts.set(index,override);});}else{return state;}})(state);}
exports.default=other;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pdi=undefined;var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);var _constant=__webpack_require__(0);var _type=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function pdi(ch,bidiType,index,state){if(ch!==_constant.PDI)return state;var isolateOverflow=state.get('overflowIsolateCount');var validIsolateCount=state.get('validIsolateCount');return(0,_lodash2.default)(function updateCounts(state){if(isolateOverflow>0){return state.update('overflowIsolateCount',_type.decrease);}else if(validIsolateCount===0){return state;}else{return state.set('overflowEmbeddingCount',0).update('directionalStatusStack',function(stack){return stack.skipWhile(function(entry){return entry.get('isolate')===false;});}).update('directionalStatusStack',function(stack){return stack.pop();}).update('validIsolateCount',_type.decrease);}},function(state){var lastEntry=state.get('directionalStatusStack').peek();var lastLevel=lastEntry.get('level');return state.update('embeddingLevels',function(ls){return ls.set(index,lastLevel);});},function checkOverride(state){var lastOverride=state.get('directionalStatusStack').peek().get('override');if(lastOverride!=='neutral'){var override=lastOverride==='left-to-right'?'L':'R';return state.setIn(['bidiTypes',index],override);}else{return state;}})(state);}
exports.pdi=pdi;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pdf=undefined;var _constant=__webpack_require__(0);var _type=__webpack_require__(3);var _lodash=__webpack_require__(4);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function pdf(ch,bidiType,index,state){if(ch!==_constant.PDF)return state;return(0,_lodash2.default)(function(state){var lastLevel=state.get('directionalStatusStack').peek().get('level');return state.setIn(['embeddingLevels','levels',index],lastLevel);},function(state){var isolateOverflow=state.get('overflowIsolateCount');var embeddingOverflow=state.get('overflowEmbeddingCount');var stack=state.get('directionalStatusStack');var lastIsolateStatus=stack.peek().get('isolate');if(isolateOverflow>0){return state;}else if(embeddingOverflow>0){return state.update('overflowEmbeddingCount',_type.decrease);}else if(lastIsolateStatus===false&&stack.size>=2){return state.set('directionalStatusStack',stack.pop());}else{return state;}})(state);}
exports.pdf=pdf;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _immutable=__webpack_require__(1);function unzip3(pairs){var unzipped=pairs.reduce(function(unzipped,_ref){var _ref2=_slicedToArray(_ref,3),a=_ref2[0],b=_ref2[1],c=_ref2[2];return unzipped.update(0,function(as){return as.push(a);}).update(1,function(bs){return bs.push(b);}).update(2,function(cs){return cs.push(c);});},_immutable.List.of(_immutable.List.of(),_immutable.List.of(),_immutable.List.of()));return[unzipped.get(0),unzipped.get(1),unzipped.get(2)];}
exports.default=unzip3;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _type=__webpack_require__(3);function levelRunFromIndex(sequence,index){var lookup=sequence.filter(function(run){return index>=run.get('from')&&index<run.get('to');});if(lookup.size>0)return lookup.last();return new _type.Run();}
exports.default=levelRunFromIndex;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);function runOffsets(runs){var offsets=runs.butLast().reduce(function(acc,run){var _run$toJS=run.toJS(),from=_run$toJS.from,to=_run$toJS.to;var size=to-from;var lastSize=acc.get(-1);return acc.push(size+lastSize);},_immutable.List.of(0));return offsets;}
exports.default=runOffsets;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function resolveImplicit(types,levels){return types.zipWith(function(t,level){if(t==='L'){return level+level%2;}
if(t==='R'){return level+(level+1)%2;}
if(t==='AN'||t==='EN'){return level+1+(level+1)%2;}},levels);}
exports.default=resolveImplicit;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _immutable=__webpack_require__(1);var _rules=__webpack_require__(35);var _isolatingRunSequences=__webpack_require__(7);var _isolatingRunSequences2=_interopRequireDefault(_isolatingRunSequences);var _constant=__webpack_require__(0);var _unzip3=__webpack_require__(12);var _unzip4=_interopRequireDefault(_unzip3);var _resolveIsolates=__webpack_require__(43);var _resolveIsolates2=_interopRequireDefault(_resolveIsolates);var _resolveBrackets=__webpack_require__(44);var _resolveBrackets2=_interopRequireDefault(_resolveBrackets);var _resolveRemaining=__webpack_require__(46);var _resolveRemaining2=_interopRequireDefault(_resolveRemaining);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function resolvedWeaks(codepoints,bidiTypes,sequences){return sequences.reduce(function(types,sequence){return resolvedWeaksForSequence(codepoints,types,sequence);},bidiTypes);}
function resolvedWeaksForSequence(codepoints,bidiTypes,sequence){var paragraph=codepoints.zip(bidiTypes);var _unzip=(0,_unzip4.default)(sequence.get('runs').map(function(run){var _run$toJS=run.toJS(),from=_run$toJS.from,to=_run$toJS.to;return paragraph.slice(from,to);}).flatten()),_unzip2=_slicedToArray(_unzip,2),codepointsFromSequence=_unzip2[0],bidiTypesFromSequence=_unzip2[1];var rules=[_rules.nsm,_rules.en,_rules.al,_rules.es,_rules.et,_rules.on,_rules.enToL,_resolveBrackets2.default,_resolveIsolates2.default,_resolveRemaining2.default];var newTypesFromSequence=rules.reduce(function(types,rule){var level=sequence.get('runs').first().get('level');var t=rule(types,codepointsFromSequence,sequence.get('sos'),sequence.get('eos'),level,bidiTypesFromSequence);return t;},bidiTypesFromSequence);var offsets=sequence.get('runs').butLast().reduce(function(acc,run){var _run$toJS2=run.toJS(),from=_run$toJS2.from,to=_run$toJS2.to;var size=to-from;var lastSize=acc.get(-1);return acc.push(size+lastSize);},_immutable.List.of(0));var slices=sequence.get('runs').zip(offsets).map(function(_ref){var _ref2=_slicedToArray(_ref,2),run=_ref2[0],offset=_ref2[1];var _run$toJS3=run.toJS(),from=_run$toJS3.from,to=_run$toJS3.to;var size=to-from;return newTypesFromSequence.slice(offset,offset+size);});var newTypes=sequence.get('runs').zip(slices).reduce(function(types,_ref3){var _ref4=_slicedToArray(_ref3,2),run=_ref4[0],slice=_ref4[1];var _run$toJS4=run.toJS(),from=_run$toJS4.from,to=_run$toJS4.to;return types.slice(0,from).concat(slice).concat(types.slice(to));},bidiTypes);return newTypes;}
exports.default=resolvedWeaks;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.enToL=exports.on=exports.et=exports.es=exports.al=exports.en=exports.nsm=undefined;var _nsm=__webpack_require__(36);var _nsm2=_interopRequireDefault(_nsm);var _en=__webpack_require__(37);var _en2=_interopRequireDefault(_en);var _al=__webpack_require__(38);var _al2=_interopRequireDefault(_al);var _es=__webpack_require__(39);var _es2=_interopRequireDefault(_es);var _et=__webpack_require__(40);var _et2=_interopRequireDefault(_et);var _on=__webpack_require__(41);var _on2=_interopRequireDefault(_on);var _enToL=__webpack_require__(42);var _enToL2=_interopRequireDefault(_enToL);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.nsm=_nsm2.default;exports.en=_en2.default;exports.al=_al2.default;exports.es=_es2.default;exports.et=_et2.default;exports.on=_on2.default;exports.enToL=_enToL2.default;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _immutable=__webpack_require__(1);var _constant=__webpack_require__(0);function nsm(types,points,sos,eos){return types.reduce(function(acc,t,index){if(t!=='NSM')return acc.push(t);if(index<=0){return acc.push(sos);}else{var prevType=acc.get(index-1);var prevPoint=points.get(index-1);if((0,_constant.isIsolateInitiator)(prevType)||(0,_constant.isPDI)(prevPoint)){return acc.push('ON');}else{return acc.push(prevType);}}},_immutable.List.of());}
exports.default=nsm;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);function en(types,run,sos,eos,level){return types.map(function(t,index){if(t!=='EN')return t;var behind=types.slice(0,index).reverse().push(sos);var prevStrong=behind.find(function(t){return(0,_constant.isStrong)(t);});if(prevStrong==='AL'){return'AN';}else{return t;}});}
exports.default=en;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function al(types){return types.map(function(t){if(t==='AL')return'R';else return t;});}
exports.default=al;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function es(types){if(types.size<3)return types;var isNumber=function isNumber(t){return(0,_lodash2.default)(['AN','EN'],t);};var first=types.take(1);var middle=types.skip(2).zipWith(function(curr,prevOne,prevTwo){if(curr==='EN'&&curr===prevTwo&&prevOne==='ES'){return'EN';}else if(prevOne==='CS'&&isNumber(curr)&&curr===prevTwo){return curr;}else{return prevOne;}},types.skip(1),types);var last=types.last();return first.concat(middle).push(last);}
exports.default=es;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);function et(types){return types.map(function(t,index){if(t!=='ET')return t;var behind=types.slice(0,index).reverse();var ahead=types.slice(index);var behindAdj=behind.skipWhile(_constant.isET).first()==='EN';var aheadAdj=ahead.skipWhile(_constant.isET).first()==='EN';if(behindAdj||aheadAdj){return'EN';}else{return t;}});}
exports.default=et;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function on(types,run){return types.map(function(t,index){if((0,_lodash2.default)(['ET','ES','CS','B','S'],t))return'ON';else return t;});}
exports.default=on;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);function enToL(types,points,sos,eos,level){return types.map(function(t,index){if(t!=='EN')return t;var behind=types.slice(0,index).reverse().push(sos);var prevStrong=behind.find(function(t){return(0,_constant.isStrong)(t);});if(prevStrong==='L'){return'L';}else{return t;}});}
exports.default=enToL;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);function resolveIsolates(types,codepoints,sos,eos,level){return types.map(function(t,index){if(!(0,_constant.isNI)(t))return t;var behind=types.slice(0,index).reverse().push(sos);var ahead=types.slice(index).push(eos);var behindAdjacent=behind.skipWhile(_constant.isNI).first();var aheadAdjacent=ahead.skipWhile(_constant.isNI).first();if(behindAdjacent==='L'&&aheadAdjacent==='L'){return'L';}else if((0,_constant.isR)(behindAdjacent)&&(0,_constant.isR)(aheadAdjacent)){return'R';}else{return t;}});}
exports.default=resolveIsolates;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(6);var _lodash2=_interopRequireDefault(_lodash);var _bracketPairs=__webpack_require__(45);var _bracketPairs2=_interopRequireDefault(_bracketPairs);var _lodash3=__webpack_require__(4);var _lodash4=_interopRequireDefault(_lodash3);var _lodash5=__webpack_require__(2);var _lodash6=_interopRequireDefault(_lodash5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function resolveBrackets(bidiTypes,points,sos,eos,level,bidiTypesBeforeW1){var pairs=(0,_bracketPairs2.default)(points);return(0,_lodash4.default)(function(){return pairs.reduce(function(currTypes,pair){var open=pair.get('open');var close=pair.get('close');if(currTypes.get(open)!==currTypes.get(close))return currTypes;var enclosing=currTypes.slice(open,close+1).map(function(t){return(0,_lodash6.default)(['EN','AN'],t)?'R':t;});var e=level%2===0?'L':'R';var o=level%2===0?'R':'L';var hasE=enclosing.find(function(x){return x===e;});var hasO=enclosing.find(function(x){return x===o;});if(hasE){return currTypes.set(open,e).set(close,e);}else if(hasO){var context=currTypes.slice(0,open).map(function(t){return(0,_lodash6.default)(['EN','AN'],t)?'R':t;}).reverse().push(sos).find(function(x){return(0,_lodash6.default)(['L','R'],x);});var established=context===o;if(established){return currTypes.set(open,o).set(close,o);}else{return currTypes.set(open,e).set(close,e);}}else{return currTypes;}},bidiTypes);},function(bidiTypesAfterN0){return pairs.reduce(function(currTypes,pair){var open=pair.get('open');var close=pair.get('close');var openChangedToLorR=(0,_lodash6.default)(['L','R'],currTypes.get(open));var closeChangedToLorR=(0,_lodash6.default)(['L','R'],currTypes.get(close));return(0,_lodash4.default)(function(currTypes){if(bidiTypesBeforeW1.get(open+1)==='NSM'&&openChangedToLorR){return currTypes.set(open+1,currTypes.get(open));}else{return currTypes;}},function(currTypes){if(bidiTypesBeforeW1.get(close+1)==='NSM'&&closeChangedToLorR){return currTypes.set(close+1,currTypes.get(close));}else{return currTypes;}})(currTypes);},bidiTypesAfterN0);})();}
exports.default=resolveBrackets;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(6);var _lodash2=_interopRequireDefault(_lodash);var _lodash3=__webpack_require__(2);var _lodash4=_interopRequireDefault(_lodash3);var _type=__webpack_require__(3);var _constant=__webpack_require__(0);var _openingBrackets=__webpack_require__(13);var _openingBrackets2=_interopRequireDefault(_openingBrackets);var _closingBrackets=__webpack_require__(14);var _closingBrackets2=_interopRequireDefault(_closingBrackets);var _oppositeBracket=__webpack_require__(15);var _oppositeBracket2=_interopRequireDefault(_oppositeBracket);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var STACK_MAX_SIZE=63;function bracketPairs(points,bidiTypes){var initialState=new _type.BracketPairState();var finalState=points.reduce(function(state,point,position){if(state.get('stackoverflow')===true)return state;var stack=state.get('stack');if(_openingBrackets2.default.has(point)){if(stack.size==63){return state.set('stackoverflow',true);}else{return state.set('stack',stack.push(new _type.BracketPairStackEntry({point:_oppositeBracket2.default.get(point),position:position})));}}else if(_closingBrackets2.default.has(point)&&stack.size>0){var openIndex=stack.findKey(function(entry){return entry.get('point')===point;});if(!(0,_lodash2.default)(openIndex)){var openPosition=stack.getIn([openIndex,'position']);return state.set('stack',stack.slice(openIndex+1)).update('pairings',function(pairings){return pairings.push(new _type.Pairing({open:openPosition,close:position}));});}else{return state;}}else{return state;}},initialState);return finalState.get('pairings').sort(function(p1,p2){return p1.get('open')-p2.get('open');});}
exports.default=bracketPairs;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _constant=__webpack_require__(0);function resolveRemaining(types,codepoints,sos,eos,level){var newType=level%2===0?'L':'R';return types.map(function(t,index){if((0,_constant.isNI)(t)){return newType;}
return t;});}
exports.default=resolveRemaining;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var isWhitespaceResettable=function isWhitespaceResettable(t){return(0,_lodash2.default)(['WS','FSI','LRI','RLI','PDI'],t);};function whitespacesLevelReset(types,levels,paragraphLevel){return types.zip(levels).map(function(_ref,index){var _ref2=_slicedToArray(_ref,2),type=_ref2[0],level=_ref2[1];if((0,_lodash2.default)(['S','B'],type))return paragraphLevel;if(!isWhitespaceResettable(type))return level;var ahead=types.slice(index).push('<EOL>');var aheadAdj=ahead.skipWhile(isWhitespaceResettable).first();if((0,_lodash2.default)(['<EOL>','S','B'],aheadAdj)){return paragraphLevel;}else{return level;}});}
exports.default=whitespacesLevelReset;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reorderPermutation=undefined;var _immutable=__webpack_require__(1);var _lodash=__webpack_require__(49);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ReorderPair=(0,_immutable.Record)({level:-1,from:0,to:0},'ReorderPair');var spliceList=function spliceList(list,from,to,paste){var left=list.slice(0,from);var right=list.slice(to);return left.concat(paste).concat(right);};function reorderPermutation(levels){var IGNORE_INVISIBLE=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var INVISIBLE_MARK=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'x';var storage=(0,_immutable.List)((0,_immutable.Range)(0,levels.size)).map(function(i){return(0,_immutable.Map)({strip:levels.get(i)===INVISIBLE_MARK,index:i});}).filter(function(x){return x.get('strip')===false;}).map(function(x){return x.get('index');});var levelsWithoutInvisibles=levels.filter(function(x){return x!=INVISIBLE_MARK;});var reorderedWithoutInvisibles=reorderedLevels(storage,levelsWithoutInvisibles);var Reduction=(0,_immutable.Record)({remaining:(0,_immutable.List)(),result:(0,_immutable.List)()},'Reduction');var initialReduction=new Reduction({remaining:reorderedWithoutInvisibles,result:(0,_immutable.List)()});var permutation=(0,_immutable.List)((0,_immutable.Range)(0,levels.size)).reduce(function(reduction,i){if(levels.get(i)==INVISIBLE_MARK){var j=reduction.get('result').size;return reduction.setIn(['result',i],j);}
var remaining=reduction.get('remaining');return reduction.setIn(['result',i],remaining.first()).set('remaining',remaining.shift());},initialReduction).get('result');if(IGNORE_INVISIBLE){return reorderedWithoutInvisibles;}else{return permutation;}}
function reorderedLevels(storage,levels){var slicesByLevel=reorderingSlices(levels,0).groupBy(function(slice){return slice.get('level');});var maxLevel=slicesByLevel.keySeq().max();if(!(0,_lodash2.default)(maxLevel)||maxLevel<0){return storage;}
if(maxLevel===0){return storage;}else{var slices=slicesByLevel.get(maxLevel);var storageAfter=slices.reduce(function(curr,slice){var _slice$toJS=slice.toJS(),from=_slice$toJS.from,to=_slice$toJS.to;var reversed=curr.slice(from,to).reverse();return spliceList(curr,from,to,reversed);},storage);var levelsAfter=slices.reduce(function(curr,slice){var _slice$toJS2=slice.toJS(),from=_slice$toJS2.from,to=_slice$toJS2.to;var nextLevel=(0,_immutable.List)((0,_immutable.Range)(0,to-from)).map(function(__){return maxLevel-1;});return spliceList(curr,from,to,nextLevel);},levels);return reorderedLevels(storageAfter,levelsAfter);}}
function reorderingSlices(levels,offset){var N=levels.size;if(N===0)return _immutable.List.of();var level=levels.first();var nextLevelIndex=levels.findKey(function(v){return v!=level;});var size=nextLevelIndex===undefined?N:nextLevelIndex;var slice=new ReorderPair({level:level,from:offset,to:offset+size});return _immutable.List.of(slice).concat(reorderingSlices(levels.slice(size),offset+size));}
exports.reorderPermutation=reorderPermutation;exports.default=reorderedLevels;}),(function(module,exports){var numberTag='[object Number]';var objectProto=Object.prototype;var objectToString=objectProto.toString;function isObjectLike(value){return!!value&&typeof value=='object';}
function isNumber(value){return typeof value=='number'||(isObjectLike(value)&&objectToString.call(value)==numberTag);}
module.exports=isNumber;}),(function(module,exports,__webpack_require__){(function(global){var require;var require;(function(f){if(true){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Foo=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){;(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow');}
n+=floor(i/out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.4.1','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return punycode;});}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(require,module,exports){module.exports=/[\u0608\u060B\u060D\u061B\u061C\u061E-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u08A0-\u08B4\u08B6-\u08BD\uFB50-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]/},{}],3:[function(require,module,exports){module.exports=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u08E2]|\uD803[\uDE60-\uDE7E]/},{}],4:[function(require,module,exports){module.exports=/[\0-\x08\x0E-\x1B\x7F-\x84\x86-\x9F\xAD\u180E\u200B-\u200D\u2060-\u2064\u206A-\u206F\uFEFF]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],5:[function(require,module,exports){module.exports=/[,\./:\xA0\u060C\u202F\u2044\uFE50\uFE52\uFE55\uFF0C\uFF0E\uFF0F\uFF1A]/},{}],6:[function(require,module,exports){module.exports=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19]|\uD800[\uDEE1-\uDEFB]|\uD835[\uDFCE-\uDFFF]|\uD83C[\uDD00-\uDD0A]/},{}],7:[function(require,module,exports){module.exports=/[\+\-\u207A\u207B\u208A\u208B\u2212\uFB29\uFE62\uFE63\uFF0B\uFF0D]/},{}],8:[function(require,module,exports){module.exports=/[#-%\xA2-\xA5\xB0\xB1\u058F\u0609\u060A\u066A\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u2030-\u2034\u20A0-\u20BE\u212E\u2213\uA838\uA839\uFE5F\uFE69\uFE6A\uFF03-\uFF05\uFFE0\uFFE1\uFFE5\uFFE6]/},{}],9:[function(require,module,exports){module.exports=/\u2068/},{}],10:[function(require,module,exports){module.exports=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u055F\u0561-\u0587\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C7F\u0C80\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4B\u1B50-\u1B6A\u1B74-\u1B7C\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1CC0-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FD\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BD-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB65\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD00\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD8D\uDD8E\uDDD0-\uDDFC\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF23\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDF9F-\uDFC3\uDFC8-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD6F\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD804[\uDC00\uDC02-\uDC37\uDC47-\uDC4D\uDC66-\uDC6F\uDC82-\uDCB2\uDCB7\uDCB8\uDCBB-\uDCC1\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD2C\uDD36-\uDD43\uDD50-\uDD72\uDD74-\uDD76\uDD82-\uDDB5\uDDBF-\uDDC9\uDDCD\uDDD0-\uDDDF\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2E\uDE32\uDE33\uDE35\uDE38-\uDE3D\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9\uDEB0-\uDEDE\uDEE0-\uDEE2\uDEF0-\uDEF9\uDF02\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC37\uDC40\uDC41\uDC45\uDC47-\uDC59\uDC5B\uDC5D\uDC80-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDCC4-\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB1\uDDB8-\uDDBB\uDDBE\uDDC1-\uDDDB\uDE00-\uDE32\uDE3B\uDE3C\uDE3E\uDE41-\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEAC\uDEAE\uDEAF\uDEB6\uDEC0-\uDEC9\uDF00-\uDF19\uDF20\uDF21\uDF26\uDF30-\uDF3F]|\uD806[\uDCA0-\uDCF2\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2F\uDC3E-\uDC45\uDC50-\uDC6C\uDC70-\uDC8F\uDCA9\uDCB1\uDCB4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F\uDED0-\uDEED\uDEF5\uDF00-\uDF2F\uDF37-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C\uDC9F]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD72\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDE8\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEDA\uDEDC-\uDF14\uDF16-\uDF4E\uDF50-\uDF88\uDF8A-\uDFC2\uDFC4-\uDFCB]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD83C[\uDD10-\uDD2E\uDD30-\uDD69\uDD70-\uDDAC\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|[\uDBBF\uDBFF][\uDC00-\uDFFD]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],11:[function(require,module,exports){module.exports=/\u202A/},{}],12:[function(require,module,exports){module.exports=/\u2066/},{}],13:[function(require,module,exports){module.exports=/\u202D/},{}],14:[function(require,module,exports){module.exports=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDCA-\uDDCC\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]/},{}],15:[function(require,module,exports){module.exports=/[!"&-\*;-@\[-`\{-~\xA1\xA6-\xA9\xAB\xAC\xAE\xAF\xB4\xB6-\xB8\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u02FF\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u058A\u058D\u058E\u0606\u0607\u060E\u060F\u06DE\u06E9\u07F6-\u07F9\u0BF3-\u0BF8\u0BFA\u0C78-\u0C7E\u0F3A-\u0F3D\u1390-\u1399\u1400\u169B\u169C\u17F0-\u17F9\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2035-\u2043\u2045-\u205E\u207C-\u207E\u208C-\u208E\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2211\u2214-\u2335\u237B-\u2394\u2396-\u23FE\u2400-\u2426\u2440-\u244A\u2460-\u2487\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B98-\u2BB9\u2BBD-\u2BC8\u2BCA-\u2BD1\u2BEC-\u2BEF\u2CE5-\u2CEA\u2CF9-\u2CFF\u2E00-\u2E44\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA673\uA67E\uA67F\uA700-\uA721\uA788\uA828-\uA82B\uA874-\uA877\uFD3E\uFD3F\uFDFD\uFE10-\uFE19\uFE30-\uFE4F\uFE51\uFE54\uFE56-\uFE5E\uFE60\uFE61\uFE64-\uFE66\uFE68\uFE6B\uFF01\uFF02\uFF06-\uFF0A\uFF1B-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE2-\uFFE4\uFFE8-\uFFEE\uFFF9-\uFFFD]|\uD800[\uDD01\uDD40-\uDD8C\uDD90-\uDD9B\uDDA0]|\uD802[\uDD1F\uDF39-\uDF3F]|\uD804[\uDC52-\uDC65]|\uD805[\uDE60-\uDE6C]|\uD834[\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0B\uDD0C\uDD6A\uDD6B\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED2\uDEE0-\uDEEC\uDEF0-\uDEF6\uDF00-\uDF73\uDF80-\uDFD4]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDD10-\uDD1E\uDD20-\uDD27\uDD30\uDD33-\uDD3E\uDD40-\uDD4B\uDD50-\uDD5E\uDD80-\uDD91\uDDC0]/},{}],16:[function(require,module,exports){module.exports=/[\n\r\x1C-\x1E\x85\u2029]/},{}],17:[function(require,module,exports){module.exports=/\u202C/},{}],18:[function(require,module,exports){module.exports=/\u2069/},{}],19:[function(require,module,exports){module.exports=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05F0-\u05F4\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4F]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC57-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD3F\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE50-\uDE58\uDE60-\uDE9F\uDEC0-\uDEE4\uDEEB-\uDEF6\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59\uDD5E\uDD5F]/},{}],20:[function(require,module,exports){module.exports=/\u202B/},{}],21:[function(require,module,exports){module.exports=/\u2067/},{}],22:[function(require,module,exports){module.exports=/\u202E/},{}],23:[function(require,module,exports){module.exports=/[\t\x0B\x1F]/},{}],24:[function(require,module,exports){module.exports=/[\f \u1680\u2000-\u200A\u2028\u205F\u3000]/},{}],25:[function(require,module,exports){'use strict';var al=require('unicode-9.0.0/Bidi_Class/Arabic_Letter/regex');var an=require('unicode-9.0.0/Bidi_Class/Arabic_Number/regex');var bn=require('unicode-9.0.0/Bidi_Class/Boundary_Neutral/regex');var cs=require('unicode-9.0.0/Bidi_Class/Common_Separator/regex');var en=require('unicode-9.0.0/Bidi_Class/European_Number/regex');var es=require('unicode-9.0.0/Bidi_Class/European_Separator/regex');var et=require('unicode-9.0.0/Bidi_Class/European_Terminator/regex');var fsi=require('unicode-9.0.0/Bidi_Class/First_Strong_Isolate/regex');var l=require('unicode-9.0.0/Bidi_Class/Left_To_Right/regex');var lre=require('unicode-9.0.0/Bidi_Class/Left_To_Right_Embedding/regex');var lri=require('unicode-9.0.0/Bidi_Class/Left_To_Right_Isolate/regex');var lro=require('unicode-9.0.0/Bidi_Class/Left_To_Right_Override/regex');var nsm=require('unicode-9.0.0/Bidi_Class/Nonspacing_Mark/regex');var on=require('unicode-9.0.0/Bidi_Class/Other_Neutral/regex');var b=require('unicode-9.0.0/Bidi_Class/Paragraph_Separator/regex');var pdf=require('unicode-9.0.0/Bidi_Class/Pop_Directional_Format/regex');var pdi=require('unicode-9.0.0/Bidi_Class/Pop_Directional_Isolate/regex');var r=require('unicode-9.0.0/Bidi_Class/Right_To_Left/regex');var rle=require('unicode-9.0.0/Bidi_Class/Right_To_Left_Embedding/regex');var rli=require('unicode-9.0.0/Bidi_Class/Right_To_Left_Isolate/regex');var rlo=require('unicode-9.0.0/Bidi_Class/Right_To_Left_Override/regex');var s=require('unicode-9.0.0/Bidi_Class/Segment_Separator/regex');var ws=require('unicode-9.0.0/Bidi_Class/White_Space/regex');var punycode=require('punycode');var regexes={'AL':al,'AN':an,'BN':bn,'CS':cs,'EN':en,'ES':es,'ET':et,'FSI':fsi,'L':l,'LRE':lre,'LRI':lri,'LRO':lro,'NSM':nsm,'ON':on,'B':b,'PDF':pdf,'PDI':pdi,'R':r,'RLE':rle,'RLI':rli,'RLO':rlo,'S':s,'WS':ws};function lookup(codepoint){var encoding=punycode.ucs2.encode([codepoint]);var name;for(name in regexes){if(regexes[name].test(encoding)===true){return name;}}
return undefined;}
module.exports=lookup;},{"punycode":1,"unicode-9.0.0/Bidi_Class/Arabic_Letter/regex":2,"unicode-9.0.0/Bidi_Class/Arabic_Number/regex":3,"unicode-9.0.0/Bidi_Class/Boundary_Neutral/regex":4,"unicode-9.0.0/Bidi_Class/Common_Separator/regex":5,"unicode-9.0.0/Bidi_Class/European_Number/regex":6,"unicode-9.0.0/Bidi_Class/European_Separator/regex":7,"unicode-9.0.0/Bidi_Class/European_Terminator/regex":8,"unicode-9.0.0/Bidi_Class/First_Strong_Isolate/regex":9,"unicode-9.0.0/Bidi_Class/Left_To_Right/regex":10,"unicode-9.0.0/Bidi_Class/Left_To_Right_Embedding/regex":11,"unicode-9.0.0/Bidi_Class/Left_To_Right_Isolate/regex":12,"unicode-9.0.0/Bidi_Class/Left_To_Right_Override/regex":13,"unicode-9.0.0/Bidi_Class/Nonspacing_Mark/regex":14,"unicode-9.0.0/Bidi_Class/Other_Neutral/regex":15,"unicode-9.0.0/Bidi_Class/Paragraph_Separator/regex":16,"unicode-9.0.0/Bidi_Class/Pop_Directional_Format/regex":17,"unicode-9.0.0/Bidi_Class/Pop_Directional_Isolate/regex":18,"unicode-9.0.0/Bidi_Class/Right_To_Left/regex":19,"unicode-9.0.0/Bidi_Class/Right_To_Left_Embedding/regex":20,"unicode-9.0.0/Bidi_Class/Right_To_Left_Isolate/regex":21,"unicode-9.0.0/Bidi_Class/Right_To_Left_Override/regex":22,"unicode-9.0.0/Bidi_Class/Segment_Separator/regex":23,"unicode-9.0.0/Bidi_Class/White_Space/regex":24}]},{},[25])(25)});}.call(exports,__webpack_require__(5)))}),(function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;;(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow');}
n+=floor(i/out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.4.1','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}.call(exports,__webpack_require__(52)(module),__webpack_require__(5)))}),(function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l;}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i;}});module.webpackPolyfill=1;}
return module;};}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Bidi_Mirroring_Glyph=__webpack_require__(16);var _Bidi_Mirroring_Glyph2=_interopRequireDefault(_Bidi_Mirroring_Glyph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function mirror(codepoints,levels){return codepoints.map(function(codepoint,index){var mirroring=_Bidi_Mirroring_Glyph2.default.get(codepoint);var mirroredIsYes=mirroring!==undefined;var directionIsR=levels.get(index)%2===1;return mirroredIsYes&&directionIsR?mirroring.charCodeAt(0):codepoint;});}
exports.default=mirror;})]);});